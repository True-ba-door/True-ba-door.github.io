function N(){}const kt=s=>s;function ln(s,e){for(const t in e)s[t]=e[t];return s}function Dt(s){return s()}function bt(){return Object.create(null)}function ye(s){s.forEach(Dt)}function $e(s){return typeof s=="function"}function et(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function dn(s){return Object.keys(s).length===0}function ei(s,e,t,n){if(s){const i=Pt(s,e,t,n);return s[0](i)}}function Pt(s,e,t,n){return s[1]&&n?ln(t.ctx.slice(),s[1](n(e))):t.ctx}function ti(s,e,t,n){if(s[2]&&n){const i=s[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let l=0;l<r;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function ni(s,e,t,n,i,o){if(i){const r=Pt(e,t,n,o);s.p(r,i)}}function ii(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function It(s){return s==null?"":s}function si(s){return s&&$e(s.destroy)?s.destroy:N}const zt=typeof window!="undefined";let Wt=zt?()=>window.performance.now():()=>Date.now(),pt=zt?s=>requestAnimationFrame(s):N;const pe=new Set;function Ht(s){pe.forEach(e=>{e.c(s)||(pe.delete(e),e.f())}),pe.size!==0&&pt(Ht)}function Rt(s){let e;return pe.size===0&&pt(Ht),{promise:new Promise(t=>{pe.add(e={c:s,f:t})}),abort(){pe.delete(e)}}}let tt=!1;function hn(){tt=!0}function cn(){tt=!1}function un(s,e,t,n){for(;s<e;){const i=s+(e-s>>1);t(i)<=n?s=i+1:e=i}return s}function mn(s){if(s.hydrate_init)return;s.hydrate_init=!0;let e=s.childNodes;if(s.nodeName==="HEAD"){const a=[];for(let d=0;d<e.length;d++){const h=e[d];h.claim_order!==void 0&&a.push(h)}e=a}const t=new Int32Array(e.length+1),n=new Int32Array(e.length);t[0]=-1;let i=0;for(let a=0;a<e.length;a++){const d=e[a].claim_order,h=(i>0&&e[t[i]].claim_order<=d?i+1:un(1,i,u=>e[t[u]].claim_order,d))-1;n[a]=t[h]+1;const c=h+1;t[c]=a,i=Math.max(c,i)}const o=[],r=[];let l=e.length-1;for(let a=t[i]+1;a!=0;a=n[a-1]){for(o.push(e[a-1]);l>=a;l--)r.push(e[l]);l--}for(;l>=0;l--)r.push(e[l]);o.reverse(),r.sort((a,d)=>a.claim_order-d.claim_order);for(let a=0,d=0;a<r.length;a++){for(;d<o.length&&r[a].claim_order>=o[d].claim_order;)d++;const h=d<o.length?o[d]:null;s.insertBefore(r[a],h)}}function Bt(s,e){s.appendChild(e)}function Ot(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function fn(s){const e=Pe("style");return pn(Ot(s),e),e.sheet}function pn(s,e){Bt(s.head||s,e)}function Z(s,e){if(tt){for(mn(s),(s.actual_end_child===void 0||s.actual_end_child!==null&&s.actual_end_child.parentElement!==s)&&(s.actual_end_child=s.firstChild);s.actual_end_child!==null&&s.actual_end_child.claim_order===void 0;)s.actual_end_child=s.actual_end_child.nextSibling;e!==s.actual_end_child?(e.claim_order!==void 0||e.parentNode!==s)&&s.insertBefore(e,s.actual_end_child):s.actual_end_child=e.nextSibling}else(e.parentNode!==s||e.nextSibling!==null)&&s.appendChild(e)}function $(s,e,t){tt&&!t?Z(s,e):(e.parentNode!==s||e.nextSibling!=t)&&s.insertBefore(e,t||null)}function M(s){s.parentNode.removeChild(s)}function _n(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function Pe(s){return document.createElement(s)}function H(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function _t(s){return document.createTextNode(s)}function oi(){return _t(" ")}function Ve(){return _t("")}function Et(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function _(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function P(s){return Array.from(s.childNodes)}function gn(s){s.claim_info===void 0&&(s.claim_info={last_index:0,total_claimed:0})}function Ft(s,e,t,n,i=!1){gn(s);const o=(()=>{for(let r=s.claim_info.last_index;r<s.length;r++){const l=s[r];if(e(l)){const a=t(l);return a===void 0?s.splice(r,1):s[r]=a,i||(s.claim_info.last_index=r),l}}for(let r=s.claim_info.last_index-1;r>=0;r--){const l=s[r];if(e(l)){const a=t(l);return a===void 0?s.splice(r,1):s[r]=a,i?a===void 0&&s.claim_info.last_index--:s.claim_info.last_index=r,l}}return n()})();return o.claim_order=s.claim_info.total_claimed,s.claim_info.total_claimed+=1,o}function Vt(s,e,t,n){return Ft(s,i=>i.nodeName===e,i=>{const o=[];for(let r=0;r<i.attributes.length;r++){const l=i.attributes[r];t[l.name]||o.push(l.name)}o.forEach(r=>i.removeAttribute(r))},()=>n(e))}function Ut(s,e,t){return Vt(s,e,t,Pe)}function R(s,e,t){return Vt(s,e,t,H)}function vn(s,e){return Ft(s,t=>t.nodeType===3,t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n},()=>_t(e),!0)}function ri(s){return vn(s," ")}function ai(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function Cn(s,e,t,n){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}let We;function yn(){if(We===void 0){We=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{We=!0}}return We}function li(s,e){getComputedStyle(s).position==="static"&&(s.style.position="relative");const n=Pe("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=yn();let o;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Et(window,"message",r=>{r.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{o=Et(n.contentWindow,"resize",e)}),Bt(s,n),()=>{(i||o&&n.contentWindow)&&o(),M(n)}}function F(s,e,t){s.classList[t?"add":"remove"](e)}function wn(s,e,t=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(s,t,!1,e),n}const Ue=new Map;let Ne=0;function bn(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function In(s,e){const t={stylesheet:fn(e),rules:{}};return Ue.set(s,t),t}function Nt(s,e,t,n,i,o,r,l=0){const a=16.666/n;let d=`{
`;for(let v=0;v<=1;v+=a){const I=e+(t-e)*o(v);d+=v*100+`%{${r(I,1-I)}}
`}const h=d+`100% {${r(t,1-t)}}
}`,c=`__svelte_${bn(h)}_${l}`,u=Ot(s),{stylesheet:f,rules:m}=Ue.get(u)||In(u,s);m[c]||(m[c]=!0,f.insertRule(`@keyframes ${c} ${h}`,f.cssRules.length));const g=s.style.animation||"";return s.style.animation=`${g?`${g}, `:""}${c} ${n}ms linear ${i}ms 1 both`,Ne+=1,c}function at(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=t.length-n.length;i&&(s.style.animation=n.join(", "),Ne-=i,Ne||En())}function En(){pt(()=>{Ne||(Ue.forEach(s=>{const{stylesheet:e}=s;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);s.rules={}}),Ue.clear())})}let Me;function Ie(s){Me=s}function gt(){if(!Me)throw new Error("Function called outside component initialization");return Me}function di(s){gt().$$.on_mount.push(s)}function hi(s){gt().$$.after_update.push(s)}function ci(s,e){gt().$$.context.set(s,e)}const be=[],St=[],Oe=[],lt=[],jt=Promise.resolve();let dt=!1;function Gt(){dt||(dt=!0,jt.then(Zt))}function ui(){return Gt(),jt}function Le(s){Oe.push(s)}function mi(s){lt.push(s)}const rt=new Set;let He=0;function Zt(){const s=Me;do{for(;He<be.length;){const e=be[He];He++,Ie(e),Sn(e.$$)}for(Ie(null),be.length=0,He=0;St.length;)St.pop()();for(let e=0;e<Oe.length;e+=1){const t=Oe[e];rt.has(t)||(rt.add(t),t())}Oe.length=0}while(be.length);for(;lt.length;)lt.pop()();dt=!1,rt.clear(),Ie(s)}function Sn(s){if(s.fragment!==null){s.update(),ye(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Le)}}let we;function Xt(){return we||(we=Promise.resolve(),we.then(()=>{we=null})),we}function je(s,e,t){s.dispatchEvent(wn(`${e?"intro":"outro"}${t}`))}const Fe=new Set;let ne;function qt(){ne={r:0,c:[],p:ne}}function Yt(){ne.r||ye(ne.c),ne=ne.p}function Q(s,e){s&&s.i&&(Fe.delete(s),s.i(e))}function _e(s,e,t,n){if(s&&s.o){if(Fe.has(s))return;Fe.add(s),ne.c.push(()=>{Fe.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}}const Jt={duration:0};function fi(s,e,t){let n=e(s,t),i=!1,o,r,l=0;function a(){o&&at(s,o)}function d(){const{delay:c=0,duration:u=300,easing:f=kt,tick:m=N,css:g}=n||Jt;g&&(o=Nt(s,0,1,u,c,f,g,l++)),m(0,1);const v=Wt()+c,I=v+u;r&&r.abort(),i=!0,Le(()=>je(s,!0,"start")),r=Rt(A=>{if(i){if(A>=I)return m(1,0),je(s,!0,"end"),a(),i=!1;if(A>=v){const z=f((A-v)/u);m(z,1-z)}}return i})}let h=!1;return{start(){h||(h=!0,at(s),$e(n)?(n=n(),Xt().then(d)):d())},invalidate(){h=!1},end(){i&&(a(),i=!1)}}}function pi(s,e,t){let n=e(s,t),i=!0,o;const r=ne;r.r+=1;function l(){const{delay:a=0,duration:d=300,easing:h=kt,tick:c=N,css:u}=n||Jt;u&&(o=Nt(s,1,0,d,a,h,u));const f=Wt()+a,m=f+d;Le(()=>je(s,!1,"start")),Rt(g=>{if(i){if(g>=m)return c(0,1),je(s,!1,"end"),--r.r||ye(r.c),!1;if(g>=f){const v=h((g-f)/d);c(1-v,v)}}return i})}return $e(n)?Xt().then(()=>{n=n(),l()}):l(),{end(a){a&&n.tick&&n.tick(1,0),i&&(o&&at(s,o),i=!1)}}}const _i=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function gi(s,e){_e(s,1,1,()=>{e.delete(s.key)})}function vi(s,e,t,n,i,o,r,l,a,d,h,c){let u=s.length,f=o.length,m=u;const g={};for(;m--;)g[s[m].key]=m;const v=[],I=new Map,A=new Map;for(m=f;m--;){const S=c(i,o,m),T=t(S);let W=r.get(T);W?n&&W.p(S,e):(W=d(T,S),W.c()),I.set(T,v[m]=W),T in g&&A.set(T,Math.abs(m-g[T]))}const z=new Set,V=new Set;function O(S){Q(S,1),S.m(l,h),r.set(S.key,S),h=S.first,f--}for(;u&&f;){const S=v[f-1],T=s[u-1],W=S.key,x=T.key;S===T?(h=S.first,u--,f--):I.has(x)?!r.has(W)||z.has(W)?O(S):V.has(x)?u--:A.get(W)>A.get(x)?(V.add(W),O(S)):(z.add(x),u--):(a(T,r),u--)}for(;u--;){const S=s[u];I.has(S.key)||a(S,r)}for(;f;)O(v[f-1]);return v}function Ci(s,e){const t={},n={},i={$$scope:1};let o=s.length;for(;o--;){const r=s[o],l=e[o];if(l){for(const a in r)a in l||(n[a]=1);for(const a in l)i[a]||(t[a]=l[a],i[a]=1);s[o]=l}else for(const a in r)i[a]=1}for(const r in n)r in t||(t[r]=void 0);return t}function yi(s){return typeof s=="object"&&s!==null?s:{}}function wi(s,e,t){const n=s.$$.props[e];n!==void 0&&(s.$$.bound[n]=t,t(s.$$.ctx[n]))}function xn(s){s&&s.c()}function Mn(s,e){s&&s.l(e)}function Kt(s,e,t,n){const{fragment:i,on_mount:o,on_destroy:r,after_update:l}=s.$$;i&&i.m(e,t),n||Le(()=>{const a=o.map(Dt).filter($e);r?r.push(...a):ye(a),s.$$.on_mount=[]}),l.forEach(Le)}function Qt(s,e){const t=s.$$;t.fragment!==null&&(ye(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ln(s,e){s.$$.dirty[0]===-1&&(be.push(s),Gt(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function vt(s,e,t,n,i,o,r,l=[-1]){const a=Me;Ie(s);const d=s.$$={fragment:null,ctx:null,props:o,update:N,not_equal:i,bound:bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:bt(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};r&&r(d.root);let h=!1;if(d.ctx=t?t(s,e.props||{},(c,u,...f)=>{const m=f.length?f[0]:u;return d.ctx&&i(d.ctx[c],d.ctx[c]=m)&&(!d.skip_bound&&d.bound[c]&&d.bound[c](m),h&&Ln(s,c)),u}):[],d.update(),h=!0,ye(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){hn();const c=P(e.target);d.fragment&&d.fragment.l(c),c.forEach(M)}else d.fragment&&d.fragment.c();e.intro&&Q(s.$$.fragment),Kt(s,e.target,e.anchor,e.customElement),cn(),Zt()}Ie(a)}class Ct{$destroy(){Qt(this,1),this.$destroy=N}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!dn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const me=[];function bi(s,e=N){let t;const n=new Set;function i(l){if(et(s,l)&&(s=l,t)){const a=!me.length;for(const d of n)d[1](),me.push(d,s);if(a){for(let d=0;d<me.length;d+=2)me[d][0](me[d+1]);me.length=0}}}function o(l){i(l(s))}function r(l,a=N){const d=[l,a];return n.add(d),n.size===1&&(t=e(i)||N),l(s),()=>{n.delete(d),n.size===0&&(t(),t=null)}}return{set:i,update:o,subscribe:r}}class yt extends Error{constructor(e,t){super(t);this.type=e}}class nt extends yt{constructor(e,t){super("Configuration",e);this.node=t}}class An extends yt{constructor(e){super("PopoutBlocked",e)}}class Tn extends yt{constructor(e){super("Bind",e)}}class it extends Error{constructor(e,t,n){super(`${e}: ${t}${n===void 0?"":": "+n}`)}}class L extends it{constructor(e,t){super("Assert",e,t)}}class ee extends it{constructor(e,t,n){super("UnreachableCase",e,`${t}${n===void 0?"":": "+n}`)}}class k extends it{constructor(e,t){super("UnexpectedNull",e,t)}}class b extends it{constructor(e,t){super("UnexpectedUndefined",e,t)}}var Ee;(function(s){s.defaultComponentBaseZIndex="auto",s.defaultComponentDragZIndex="32",s.defaultComponentStackMaximisedZIndex="41"})(Ee||(Ee={}));var Ge;(function(s){s.width="width",s.height="height"})(Ge||(Ge={}));var ie;(function(s){s.top="top",s.left="left",s.right="right",s.bottom="bottom"})(ie||(ie={}));var Se;(function(s){s.base="base",s.drag="drag",s.stackMaximised="stackMaximised"})(Se||(Se={}));const kn={base:Ee.defaultComponentBaseZIndex,drag:Ee.defaultComponentDragZIndex,stackMaximised:Ee.defaultComponentStackMaximisedZIndex};var xt;(function(s){function e(n){return t(n)}s.isJson=e;function t(n){return!Array.isArray(n)&&n!==null&&typeof n=="object"}s.isJsonObject=t})(xt||(xt={}));var p;(function(s){s.ground="ground",s.row="row",s.column="column",s.stack="stack",s.component="component"})(p||(p={}));var Ae;(function(s){s.none="none",s.always="always",s.onload="onload"})(Ae||(Ae={}));var Te;(function(s){const e=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentType","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],t=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"];function n(){if(e.length>36)throw new Error("Too many keys in config minifier map")}s.checkInitialise=n;function i(f,m){const g={};for(const v in f)if(f.hasOwnProperty(v)){let I;m?I=l(v):I=a(v);const A=f[v];g[I]=r(A,m)}return g}s.translateObject=i;function o(f,m){const g=f.length,v=new Array(g);for(let I=0;I<g;I++){const A=f[I];v[I]=r(A,m)}return v}function r(f,m){return typeof f=="object"?f===null?null:Array.isArray(f)?o(f,m):i(f,m):m?d(f):h(f)}function l(f){if(typeof f=="string"&&f.length===1)return"___"+f;const m=c(f);return m===-1?f:m.toString(36)}function a(f){return f.length===1?e[parseInt(f,36)]:f.substr(0,3)==="___"?f[3]:f}function d(f){if(typeof f=="string"&&f.length===1)return"___"+f;const m=u(f);return m===-1?f:m.toString(36)}function h(f){return typeof f=="string"&&f.length===1?t[parseInt(f,36)]:typeof f=="string"&&f.substr(0,3)==="___"?f[3]:f}function c(f){for(let m=0;m<e.length;m++)if(e[m]===f)return m;return-1}function u(f){for(let m=0;m<t.length;m++)if(t[m]===f)return m;return-1}})(Te||(Te={}));function E(s){return s.toString(10)+"px"}function fe(s){const e=s.replace("px","");return parseFloat(e)}function ht(s){return s.offsetWidth}function j(s,e){const t=E(e);s.style.width=t}function ct(s){return s.offsetHeight}function G(s,e){const t=E(e);s.style.height=t}function J(s){return{width:s.offsetWidth,height:s.offsetHeight}}function ae(s,e){e?s.style.display="":s.style.display="none"}function oe(s,e){if(e!==void 0){for(const t in e)if(e.hasOwnProperty(t)){const n=e[t],i=s[t];s[t]=Ze(i,n)}}return s}function Ze(s,e){if(typeof e!="object")return e;if(Array.isArray(e)){const t=e.length,n=new Array(t);for(let i=0;i<t;i++){const o=e[i];n[i]=Ze({},o)}return n}else{if(e===null)return null;{const t=e;return s===void 0?oe({},t):typeof s!="object"?oe({},t):Array.isArray(s)?oe({},t):oe(s===null?{}:s,t)}}}function Dn(s,e){const t=e.indexOf(s);if(t===-1)throw new Error("Can't remove item from array. Item is not in the array");e.splice(t,1)}function $t(){return(Math.random()*1e15).toString(36).replace(".","")}var C;(function(s){s.defaults={type:p.ground,content:[],width:50,minWidth:0,height:50,minHeight:0,id:"",isClosable:!0};function e(r,l){switch(r.type){case p.ground:case p.row:case p.column:return ve.createCopy(r,l);case p.stack:return te.createCopy(r,l);case p.component:return ge.createCopy(r);default:throw new ee("CICC91354",r.type,"Invalid Config Item type specified")}}s.createCopy=e;function t(r){switch(r){case p.ground:throw new L("CICCDR91562");case p.row:case p.column:return ve.createDefault(r);case p.stack:return te.createDefault();case p.component:return ge.createDefault();default:throw new ee("CICCDD91563",r,"Invalid Config Item type specified")}}s.createDefault=t;function n(r){return r.type===p.component}s.isComponentItem=n;function i(r){return r.type===p.stack}s.isStackItem=i;function o(r){return r.type===p.ground}s.isGroundItem=o})(C||(C={}));var Y;(function(s){s.defaultMaximised=!1,function(e){function t(n,i){if(n!==void 0)return{show:i!=null?i:n.show,popout:n.popout,close:n.close,maximise:n.maximise,minimise:n.minimise,tabDropdown:n.tabDropdown}}e.createCopy=t}(s.Header||(s.Header={}))})(Y||(Y={}));var te;(function(s){s.defaultActiveItemIndex=0;function e(i,o){return{type:i.type,content:t(o!==void 0?o:i.content),width:i.width,minWidth:i.minWidth,height:i.height,minHeight:i.minHeight,id:i.id,maximised:i.maximised,isClosable:i.isClosable,activeItemIndex:i.activeItemIndex,header:Y.Header.createCopy(i.header)}}s.createCopy=e;function t(i){const o=i.length,r=new Array(o);for(let l=0;l<o;l++)r[l]=C.createCopy(i[l]);return r}s.copyContent=t;function n(){return{type:p.stack,content:[],width:C.defaults.width,minWidth:C.defaults.minWidth,height:C.defaults.height,minHeight:C.defaults.minHeight,id:C.defaults.id,maximised:Y.defaultMaximised,isClosable:C.defaults.isClosable,activeItemIndex:s.defaultActiveItemIndex,header:void 0}}s.createDefault=n})(te||(te={}));var ge;(function(s){s.defaultReorderEnabled=!0;function e(o){const r=o.componentType;if(typeof r=="string")return r}s.resolveComponentTypeName=e;function t(o){return{type:o.type,content:[],width:o.width,minWidth:o.minWidth,height:o.height,minHeight:o.minHeight,id:o.id,maximised:o.maximised,isClosable:o.isClosable,reorderEnabled:o.reorderEnabled,title:o.title,header:Y.Header.createCopy(o.header),componentType:o.componentType,componentState:Ze(void 0,o.componentState)}}s.createCopy=t;function n(o="",r,l=""){return{type:p.component,content:[],width:C.defaults.width,minWidth:C.defaults.minWidth,height:C.defaults.height,minHeight:C.defaults.minHeight,id:C.defaults.id,maximised:Y.defaultMaximised,isClosable:C.defaults.isClosable,reorderEnabled:s.defaultReorderEnabled,title:l,header:void 0,componentType:o,componentState:r}}s.createDefault=n;function i(o){return Ze({},o)}s.copyComponentType=i})(ge||(ge={}));var ve;(function(s){function e(o){switch(o.type){case p.row:case p.column:case p.stack:case p.component:return!0;case p.ground:return!1;default:throw new ee("CROCOSPCICIC13687",o.type)}}s.isChildItemConfig=e;function t(o,r){return{type:o.type,content:n(r!==void 0?r:o.content),width:o.width,minWidth:o.minWidth,height:o.height,minHeight:o.minHeight,id:o.id,isClosable:o.isClosable}}s.createCopy=t;function n(o){const r=o.length,l=new Array(r);for(let a=0;a<r;a++)l[a]=C.createCopy(o[a]);return l}s.copyContent=n;function i(o){return{type:o,content:[],width:C.defaults.width,minWidth:C.defaults.minWidth,height:C.defaults.height,minHeight:C.defaults.minHeight,id:C.defaults.id,isClosable:C.defaults.isClosable}}s.createDefault=i})(ve||(ve={}));var he;(function(s){function e(n){return C.createCopy(n)}s.createCopy=e;function t(n){switch(n.type){case p.row:case p.column:case p.stack:case p.component:return!0;case p.ground:return!1;default:throw new ee("CROCOSPCICIC13687",n.type)}}s.isRootItemConfig=t})(he||(he={}));var ut;(function(s){function e(t){const n=t===void 0?[]:[t];return{type:p.ground,content:n,width:100,minWidth:0,height:100,minHeight:0,id:"",isClosable:!1,title:"",reorderEnabled:!1}}s.create=e})(ut||(ut={}));var w;(function(s){(function(l){l.defaults={constrainDragToContainer:!0,reorderEnabled:!0,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,responsiveMode:Ae.none,tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,popInOnClose:!1};function a(d){return{constrainDragToContainer:d.constrainDragToContainer,reorderEnabled:d.reorderEnabled,popoutWholeStack:d.popoutWholeStack,blockedPopoutsThrowError:d.blockedPopoutsThrowError,closePopoutsOnUnload:d.closePopoutsOnUnload,responsiveMode:d.responsiveMode,tabOverlapAllowance:d.tabOverlapAllowance,reorderOnTabMenuClick:d.reorderOnTabMenuClick,tabControlOffset:d.tabControlOffset,popInOnClose:d.popInOnClose}}l.createCopy=a})(s.Settings||(s.Settings={})),function(l){function a(d){return{borderWidth:d.borderWidth,borderGrabWidth:d.borderGrabWidth,minItemHeight:d.minItemHeight,minItemWidth:d.minItemWidth,headerHeight:d.headerHeight,dragProxyWidth:d.dragProxyWidth,dragProxyHeight:d.dragProxyHeight}}l.createCopy=a,l.defaults={borderWidth:5,borderGrabWidth:5,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200}}(s.Dimensions||(s.Dimensions={})),function(l){function a(d){return{show:d.show,popout:d.popout,dock:d.dock,close:d.close,maximise:d.maximise,minimise:d.minimise,tabDropdown:d.tabDropdown}}l.createCopy=a,l.defaults={show:ie.top,popout:"open in new window",dock:"dock",maximise:"maximise",minimise:"minimise",close:"close",tabDropdown:"additional tabs"}}(s.Header||(s.Header={}));function e(l){return"parentId"in l}s.isPopout=e;function t(){return{root:void 0,openPopouts:[],dimensions:s.Dimensions.defaults,settings:s.Settings.defaults,header:s.Header.defaults,resolved:!0}}s.createDefault=t;function n(l){return e(l)?ke.createCopy(l):{root:l.root===void 0?void 0:he.createCopy(l.root),openPopouts:s.copyOpenPopouts(l.openPopouts),settings:s.Settings.createCopy(l.settings),dimensions:s.Dimensions.createCopy(l.dimensions),header:s.Header.createCopy(l.header),resolved:l.resolved}}s.createCopy=n;function i(l){const a=l.length,d=new Array(a);for(let h=0;h<a;h++)d[h]=ke.createCopy(l[h]);return d}s.copyOpenPopouts=i;function o(l){return Te.translateObject(l,!0)}s.minifyConfig=o;function r(l){return Te.translateObject(l,!1)}s.unminifyConfig=r})(w||(w={}));var ke;(function(s){(function(t){function n(i){return{width:i.width,height:i.height,left:i.left,top:i.top}}t.createCopy=n,t.defaults={width:null,height:null,left:null,top:null}})(s.Window||(s.Window={}));function e(t){return{root:t.root===void 0?void 0:he.createCopy(t.root),openPopouts:w.copyOpenPopouts(t.openPopouts),settings:w.Settings.createCopy(t.settings),dimensions:w.Dimensions.createCopy(t.dimensions),header:w.Header.createCopy(t.header),parentId:t.parentId,indexInParent:t.indexInParent,window:s.Window.createCopy(t.window),resolved:t.resolved}}s.createCopy=e})(ke||(ke={}));var B;(function(s){function e(d){switch(d.type){case p.ground:throw new nt("ItemConfig cannot specify type ground",JSON.stringify(d));case p.row:case p.column:return ft.resolve(d);case p.stack:return mt.resolve(d);case p.component:return De.resolve(d);default:throw new ee("UCUICR55499",d.type)}}s.resolve=e;function t(d){if(d===void 0)return[];{const h=d.length,c=new Array(h);for(let u=0;u<h;u++)c[u]=s.resolve(d[u]);return c}}s.resolveContent=t;function n(d){return d===void 0?C.defaults.id:Array.isArray(d)?d.length===0?C.defaults.id:d[0]:d}s.resolveId=n;function i(d){return d.type===p.ground}s.isGround=i;function o(d){return d.type===p.row}s.isRow=o;function r(d){return d.type===p.column}s.isColumn=r;function l(d){return d.type===p.stack}s.isStack=l;function a(d){return d.type===p.component}s.isComponent=a})(B||(B={}));var Ce;(function(s){const e="__glMaximised";(function(n){function i(o,r){var l;if(!(o===void 0&&r===void 0))return{show:(l=o==null?void 0:o.show)!==null&&l!==void 0?l:r===void 0?void 0:r?w.Header.defaults.show:!1,popout:o==null?void 0:o.popout,maximise:o==null?void 0:o.maximise,close:o==null?void 0:o.close,minimise:o==null?void 0:o.minimise,tabDropdown:o==null?void 0:o.tabDropdown}}n.resolve=i})(s.Header||(s.Header={}));function t(n){let i,o=n.id,r=!1;if(o===void 0)i=C.defaults.id;else if(Array.isArray(o)){const a=o.findIndex(d=>d===e);a>0&&(r=!0,o=o.splice(a,1)),o.length>0?i=o[0]:i=C.defaults.id}else i=o;let l;return n.maximised!==void 0?l=n.maximised:l=r,{id:i,maximised:l}}s.resolveIdAndMaximised=t})(Ce||(Ce={}));var mt;(function(s){function e(n){var i,o,r,l,a,d;const{id:h,maximised:c}=Ce.resolveIdAndMaximised(n);return{type:p.stack,content:t(n.content),width:(i=n.width)!==null&&i!==void 0?i:C.defaults.width,minWidth:(o=n.minWidth)!==null&&o!==void 0?o:C.defaults.minWidth,height:(r=n.height)!==null&&r!==void 0?r:C.defaults.height,minHeight:(l=n.minHeight)!==null&&l!==void 0?l:C.defaults.minHeight,id:h,maximised:c,isClosable:(a=n.isClosable)!==null&&a!==void 0?a:C.defaults.isClosable,activeItemIndex:(d=n.activeItemIndex)!==null&&d!==void 0?d:te.defaultActiveItemIndex,header:Ce.Header.resolve(n.header,n.hasHeaders)}}s.resolve=e;function t(n){if(n===void 0)return[];{const i=n.length,o=new Array(i);for(let r=0;r<i;r++){const l=n[r],a=B.resolve(l);if(C.isComponentItem(a))o[r]=a;else throw new L("UCUSICRC91114",JSON.stringify(a))}return o}}s.resolveContent=t})(mt||(mt={}));var De;(function(s){function e(n){var i,o,r,l,a,d,h;let c=n.componentType;if(c===void 0&&(c=n.componentName),c===void 0)throw new Error("ComponentItemConfig.componentType is undefined");{const{id:u,maximised:f}=Ce.resolveIdAndMaximised(n);let m;return n.title===void 0||n.title===""?m=s.componentTypeToTitle(c):m=n.title,{type:n.type,content:[],width:(i=n.width)!==null&&i!==void 0?i:C.defaults.width,minWidth:(o=n.minWidth)!==null&&o!==void 0?o:C.defaults.minWidth,height:(r=n.height)!==null&&r!==void 0?r:C.defaults.height,minHeight:(l=n.minHeight)!==null&&l!==void 0?l:C.defaults.minHeight,id:u,maximised:f,isClosable:(a=n.isClosable)!==null&&a!==void 0?a:C.defaults.isClosable,reorderEnabled:(d=n.reorderEnabled)!==null&&d!==void 0?d:ge.defaultReorderEnabled,title:m,header:Ce.Header.resolve(n.header,n.hasHeaders),componentType:c,componentState:(h=n.componentState)!==null&&h!==void 0?h:{}}}}s.resolve=e;function t(n){switch(typeof n){case"string":return n;case"number":return n.toString();case"boolean":return n.toString();default:return""}}s.componentTypeToTitle=t})(De||(De={}));var ft;(function(s){function e(i){switch(i.type){case p.row:case p.column:case p.stack:case p.component:return!0;case p.ground:return!1;default:throw new ee("UROCOSPCICIC13687",i.type)}}s.isChildItemConfig=e;function t(i){var o,r,l,a,d;return{type:i.type,content:s.resolveContent(i.content),width:(o=i.width)!==null&&o!==void 0?o:C.defaults.width,minWidth:(r=i.width)!==null&&r!==void 0?r:C.defaults.minWidth,height:(l=i.height)!==null&&l!==void 0?l:C.defaults.height,minHeight:(a=i.height)!==null&&a!==void 0?a:C.defaults.minHeight,id:B.resolveId(i.id),isClosable:(d=i.isClosable)!==null&&d!==void 0?d:C.defaults.isClosable}}s.resolve=t;function n(i){if(i===void 0)return[];{const o=i.length,r=new Array(o);for(let l=0;l<o;l++){const a=i[l];if(s.isChildItemConfig(a)){const d=B.resolve(a);if(ve.isChildItemConfig(d))r[l]=d;else throw new L("UROCOSPIC99512",JSON.stringify(d))}else throw new nt("ItemConfig is not Row, Column or Stack",a)}return r}}s.resolveContent=n})(ft||(ft={}));var Xe;(function(s){function e(n){switch(n.type){case p.row:case p.column:case p.stack:case p.component:return!0;case p.ground:return!1;default:throw new ee("URICIR23687",n.type)}}s.isRootItemConfig=e;function t(n){if(n!==void 0){const i=B.resolve(n);if(he.isRootItemConfig(i))return i;throw new nt("ItemConfig is not Row, Column or Stack",JSON.stringify(n))}}s.resolve=t})(Xe||(Xe={}));var X;(function(s){(function(r){function l(a){var d,h,c,u,f,m,g,v,I,A;return{constrainDragToContainer:(d=a==null?void 0:a.constrainDragToContainer)!==null&&d!==void 0?d:w.Settings.defaults.constrainDragToContainer,reorderEnabled:(h=a==null?void 0:a.reorderEnabled)!==null&&h!==void 0?h:w.Settings.defaults.reorderEnabled,popoutWholeStack:(c=a==null?void 0:a.popoutWholeStack)!==null&&c!==void 0?c:w.Settings.defaults.popoutWholeStack,blockedPopoutsThrowError:(u=a==null?void 0:a.blockedPopoutsThrowError)!==null&&u!==void 0?u:w.Settings.defaults.blockedPopoutsThrowError,closePopoutsOnUnload:(f=a==null?void 0:a.closePopoutsOnUnload)!==null&&f!==void 0?f:w.Settings.defaults.closePopoutsOnUnload,responsiveMode:(m=a==null?void 0:a.responsiveMode)!==null&&m!==void 0?m:w.Settings.defaults.responsiveMode,tabOverlapAllowance:(g=a==null?void 0:a.tabOverlapAllowance)!==null&&g!==void 0?g:w.Settings.defaults.tabOverlapAllowance,reorderOnTabMenuClick:(v=a==null?void 0:a.reorderOnTabMenuClick)!==null&&v!==void 0?v:w.Settings.defaults.reorderOnTabMenuClick,tabControlOffset:(I=a==null?void 0:a.tabControlOffset)!==null&&I!==void 0?I:w.Settings.defaults.tabControlOffset,popInOnClose:(A=a==null?void 0:a.popInOnClose)!==null&&A!==void 0?A:w.Settings.defaults.popInOnClose}}r.resolve=l})(s.Settings||(s.Settings={})),function(r){function l(a){var d,h,c,u,f,m,g;return{borderWidth:(d=a==null?void 0:a.borderWidth)!==null&&d!==void 0?d:w.Dimensions.defaults.borderWidth,borderGrabWidth:(h=a==null?void 0:a.borderGrabWidth)!==null&&h!==void 0?h:w.Dimensions.defaults.borderGrabWidth,minItemHeight:(c=a==null?void 0:a.minItemHeight)!==null&&c!==void 0?c:w.Dimensions.defaults.minItemHeight,minItemWidth:(u=a==null?void 0:a.minItemWidth)!==null&&u!==void 0?u:w.Dimensions.defaults.minItemWidth,headerHeight:(f=a==null?void 0:a.headerHeight)!==null&&f!==void 0?f:w.Dimensions.defaults.headerHeight,dragProxyWidth:(m=a==null?void 0:a.dragProxyWidth)!==null&&m!==void 0?m:w.Dimensions.defaults.dragProxyWidth,dragProxyHeight:(g=a==null?void 0:a.dragProxyHeight)!==null&&g!==void 0?g:w.Dimensions.defaults.dragProxyHeight}}r.resolve=l}(s.Dimensions||(s.Dimensions={})),function(r){function l(a,d,h){var c,u,f,m,g,v,I,A,z,V,O,S;let T;return(a==null?void 0:a.show)!==void 0?T=a.show:d!==void 0&&d.hasHeaders!==void 0?T=d.hasHeaders?w.Header.defaults.show:!1:T=w.Header.defaults.show,{show:T,popout:(u=(c=a==null?void 0:a.popout)!==null&&c!==void 0?c:h==null?void 0:h.popout)!==null&&u!==void 0?u:(d==null?void 0:d.showPopoutIcon)===!1?!1:w.Header.defaults.popout,dock:(m=(f=a==null?void 0:a.popin)!==null&&f!==void 0?f:h==null?void 0:h.popin)!==null&&m!==void 0?m:w.Header.defaults.dock,maximise:(v=(g=a==null?void 0:a.maximise)!==null&&g!==void 0?g:h==null?void 0:h.maximise)!==null&&v!==void 0?v:(d==null?void 0:d.showMaximiseIcon)===!1?!1:w.Header.defaults.maximise,close:(A=(I=a==null?void 0:a.close)!==null&&I!==void 0?I:h==null?void 0:h.close)!==null&&A!==void 0?A:(d==null?void 0:d.showCloseIcon)===!1?!1:w.Header.defaults.close,minimise:(V=(z=a==null?void 0:a.minimise)!==null&&z!==void 0?z:h==null?void 0:h.minimise)!==null&&V!==void 0?V:w.Header.defaults.minimise,tabDropdown:(S=(O=a==null?void 0:a.tabDropdown)!==null&&O!==void 0?O:h==null?void 0:h.tabDropdown)!==null&&S!==void 0?S:w.Header.defaults.tabDropdown}}r.resolve=l}(s.Header||(s.Header={}));function e(r){return"parentId"in r||"indexInParent"in r||"window"in r}s.isPopout=e;function t(r){if(e(r))return qe.resolve(r);{let l;return r.root!==void 0?l=r.root:r.content!==void 0&&r.content.length>0?l=r.content[0]:l=void 0,{resolved:!0,root:Xe.resolve(l),openPopouts:s.resolveOpenPopouts(r.openPopouts),dimensions:s.Dimensions.resolve(r.dimensions),settings:s.Settings.resolve(r.settings),header:s.Header.resolve(r.header,r.settings,r.labels)}}}s.resolve=t;function n(r){const l=w.createCopy(r);return{root:l.root,openPopouts:l.openPopouts,dimensions:l.dimensions,settings:l.settings,header:l.header}}s.fromResolved=n;function i(r){const l=r;return l.resolved!==void 0&&l.resolved===!0}s.isResolved=i;function o(r){if(r===void 0)return[];{const l=r.length,a=new Array(l);for(let d=0;d<l;d++)a[d]=qe.resolve(r[d]);return a}}s.resolveOpenPopouts=o})(X||(X={}));var qe;(function(s){(function(t){function n(i,o){var r,l,a,d,h,c,u,f;let m;const g=ke.Window.defaults;return i!==void 0?m={width:(r=i.width)!==null&&r!==void 0?r:g.width,height:(l=i.height)!==null&&l!==void 0?l:g.height,left:(a=i.left)!==null&&a!==void 0?a:g.left,top:(d=i.top)!==null&&d!==void 0?d:g.top}:m={width:(h=o==null?void 0:o.width)!==null&&h!==void 0?h:g.width,height:(c=o==null?void 0:o.height)!==null&&c!==void 0?c:g.height,left:(u=o==null?void 0:o.left)!==null&&u!==void 0?u:g.left,top:(f=o==null?void 0:o.top)!==null&&f!==void 0?f:g.top},m}t.resolve=n})(s.Window||(s.Window={}));function e(t){var n,i;let o;return t.root!==void 0?o=t.root:t.content!==void 0&&t.content.length>0?o=t.content[0]:o=void 0,{root:Xe.resolve(o),openPopouts:X.resolveOpenPopouts(t.openPopouts),settings:X.Settings.resolve(t.settings),dimensions:X.Dimensions.resolve(t.dimensions),header:X.Header.resolve(t.header,t.settings,t.labels),parentId:(n=t.parentId)!==null&&n!==void 0?n:null,indexInParent:(i=t.indexInParent)!==null&&i!==void 0?i:null,window:s.Window.resolve(t.window,t.dimensions),resolved:!0}}s.resolve=e})(qe||(qe={}));class D{constructor(){this._allEventSubscriptions=[],this._subscriptionsMap=new Map,this.unbind=this.removeEventListener,this.trigger=this.emit}tryBubbleEvent(e,t){}emit(e,...t){let n=this._subscriptionsMap.get(e);if(n!==void 0){n=n.slice();for(let i=0;i<n.length;i++)n[i](...t)}this.emitAllEvent(e,t),this.tryBubbleEvent(e,t)}emitUnknown(e,...t){let n=this._subscriptionsMap.get(e);if(n!==void 0){n=n.slice();for(let i=0;i<n.length;i++)n[i](...t)}this.emitAllEvent(e,t),this.tryBubbleEvent(e,t)}emitBaseBubblingEvent(e){const t=new D.BubblingEvent(e,this);this.emitUnknown(e,t)}emitUnknownBubblingEvent(e){const t=new D.BubblingEvent(e,this);this.emitUnknown(e,t)}removeEventListener(e,t){const n=t;this.removeUnknownEventListener(e,n)}off(e,t){this.removeEventListener(e,t)}addEventListener(e,t){const n=t;this.addUnknownEventListener(e,n)}on(e,t){this.addEventListener(e,t)}addUnknownEventListener(e,t){if(e===D.ALL_EVENT)this._allEventSubscriptions.push(t);else{let n=this._subscriptionsMap.get(e);n!==void 0?n.push(t):(n=[t],this._subscriptionsMap.set(e,n))}}removeUnknownEventListener(e,t){if(e===D.ALL_EVENT)this.removeSubscription(e,this._allEventSubscriptions,t);else{const n=this._subscriptionsMap.get(e);if(n===void 0)throw new Error("No subscribtions to unsubscribe for event "+e);this.removeSubscription(e,n,t)}}removeSubscription(e,t,n){const i=t.indexOf(n);if(i<0)throw new Error("Nothing to unbind for "+e);t.splice(i,1)}emitAllEvent(e,t){const n=this._allEventSubscriptions.length;if(n>0){const i=t.slice();i.unshift(e);const o=this._allEventSubscriptions.slice();for(let r=0;r<n;r++)o[r](...i)}}}(function(s){s.ALL_EVENT="__all",s.headerClickEventName="stackHeaderClick",s.headerTouchStartEventName="stackHeaderTouchStart";class e{constructor(o,r){this._name=o,this._target=r,this._isPropagationStopped=!1}get name(){return this._name}get target(){return this._target}get origin(){return this._target}get isPropagationStopped(){return this._isPropagationStopped}stopPropagation(){this._isPropagationStopped=!0}}s.BubblingEvent=e;class t extends e{constructor(o,r,l){super(o,r);this._mouseEvent=l}get mouseEvent(){return this._mouseEvent}}s.ClickBubblingEvent=t;class n extends e{constructor(o,r,l){super(o,r);this._touchEvent=l}get touchEvent(){return this._touchEvent}}s.TouchStartBubblingEvent=n})(D||(D={}));class Pn extends D{constructor(e,t,n,i,o,r,l,a,d){super();this._config=e,this._parent=t,this._layoutManager=n,this._element=i,this._updateItemConfigEvent=o,this._showEvent=r,this._hideEvent=l,this._focusEvent=a,this._blurEvent=d,this._stackMaximised=!1,this._width=0,this._height=0,this._visible=!0,this._isShownWithZeroDimensions=!0,this._componentType=e.componentType,this._isClosable=e.isClosable,this._initialState=e.componentState,this._state=this._initialState,this._boundComponent=this.layoutManager.bindComponent(this,e),this.updateElementPositionPropertyFromBoundComponent()}get width(){return this._width}get height(){return this._height}get parent(){return this._parent}get componentName(){return this._componentType}get componentType(){return this._componentType}get virtual(){return this._boundComponent.virtual}get component(){return this._boundComponent.component}get tab(){return this._tab}get title(){return this._parent.title}get layoutManager(){return this._layoutManager}get isHidden(){return!this._visible}get visible(){return this._visible}get state(){return this._state}get initialState(){return this._initialState}get element(){return this._element}destroy(){this.releaseComponent(),this.stateRequestEvent=void 0,this.emit("destroy")}getElement(){return this._element}hide(){this._hideEvent()}show(){this._showEvent()}focus(e=!1){this._focusEvent(e)}blur(e=!1){this._blurEvent(e)}setSize(e,t){let n=this._parent;if(n.isColumn||n.isRow||n.parent===null)throw new L("ICSSPRC","ComponentContainer cannot have RowColumn Parent");{let i;do i=n,n=n.parent;while(n!==null&&!n.isColumn&&!n.isRow);if(n===null)return!1;{const o=n.isColumn?"height":"width",r=this[o];if(r===null)throw new k("ICSSCS11194");{const l=o==="height"?t:e,a=r*(1/(i[o]/100)),d=l/a*100,h=(i[o]-d)/(n.contentItems.length-1);for(let c=0;c<n.contentItems.length;c++)n.contentItems[c]===i?n.contentItems[c][o]=d:n.contentItems[c][o]+=h;return n.updateSize(!1),!0}}}}close(){this._isClosable&&(this.emit("close"),this._parent.close())}replaceComponent(e){if(this.releaseComponent(),B.isComponent(e)){const t=De.resolve(e);if(this._initialState=t.componentState,this._state=this._initialState,this._componentType=t.componentType,this._updateItemConfigEvent(t),this._boundComponent=this.layoutManager.bindComponent(this,t),this.updateElementPositionPropertyFromBoundComponent(),this._boundComponent.virtual){if(this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,this._visible),this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}this.setBaseLogicalZIndex()}this.emit("stateChanged")}else throw new Error("ReplaceComponent not passed a component ItemConfig")}getState(){return this._state}extendState(e){const t=oe(this._state,e);this.setState(t)}setState(e){this._state=e,this._parent.emitBaseBubblingEvent("stateChanged")}setTitle(e){this._parent.setTitle(e)}setTab(e){this._tab=e,this.emit("tab",e)}setVisibility(e){this._boundComponent.virtual&&this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,e),e?this._visible?this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow()):(this._visible=!0,this._height===0&&this._width===0?this._isShownWithZeroDimensions=!0:(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow())):this._visible&&(this._visible=!1,this._isShownWithZeroDimensions=!1,this.emitHide())}setBaseLogicalZIndex(){this.setLogicalZIndex(Se.base)}setLogicalZIndex(e){e!==this._logicalZIndex&&(this._logicalZIndex=e,this.notifyVirtualZIndexChangeRequired())}enterDragMode(e,t){this._width=e,this._height=t,j(this._element,e),G(this._element,t),this.setLogicalZIndex(Se.drag),this.drag()}exitDragMode(){this.setBaseLogicalZIndex()}enterStackMaximised(){this._stackMaximised=!0,this.setLogicalZIndex(Se.stackMaximised)}exitStackMaximised(){this.setBaseLogicalZIndex(),this._stackMaximised=!1}drag(){if(this._boundComponent.virtual&&this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}}setSizeToNodeSize(e,t,n){(e!==this._width||t!==this._height||n)&&(this._width=e,this._height=t,j(this._element,e),G(this._element,t),this._boundComponent.virtual?this.addVirtualSizedContainerToLayoutManager():(this.emit("resize"),this.checkShownFromZeroDimensions()))}notifyVirtualRectingRequired(){this.virtualRectingRequiredEvent!==void 0&&(this.virtualRectingRequiredEvent(this,this._width,this._height),this.emit("resize"),this.checkShownFromZeroDimensions())}notifyVirtualZIndexChangeRequired(){if(this.virtualZIndexChangeRequiredEvent!==void 0){const e=this._logicalZIndex,t=kn[e];this.virtualZIndexChangeRequiredEvent(this,e,t)}}updateElementPositionPropertyFromBoundComponent(){this._boundComponent.virtual?this._element.style.position="static":this._element.style.position=""}addVirtualSizedContainerToLayoutManager(){this._layoutManager.beginVirtualSizedContainerAdding();try{this._layoutManager.addVirtualSizedContainer(this)}finally{this._layoutManager.endVirtualSizedContainerAdding()}}checkShownFromZeroDimensions(){this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.emitShow())}emitShow(){this.emit("shown"),this.emit("show")}emitHide(){this.emit("hide")}releaseComponent(){this._stackMaximised&&this.exitStackMaximised(),this.emit("beforeComponentRelease",this._boundComponent.component),this.layoutManager.unbindComponent(this,this._boundComponent.virtual,this._boundComponent.component)}}class zn extends D{constructor(e,t,n){super();this._config=e,this._initialWindowSize=t,this._layoutManager=n,this._isInitialised=!1,this._popoutWindow=null,this.createWindow()}toConfig(){var e,t;if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");const i=this.getGlInstance().saveLayout();let o,r;this._popoutWindow===null?(o=null,r=null):(o=(e=this._popoutWindow.screenX)!==null&&e!==void 0?e:this._popoutWindow.screenLeft,r=(t=this._popoutWindow.screenY)!==null&&t!==void 0?t:this._popoutWindow.screenTop);const l={width:this.getGlInstance().width,height:this.getGlInstance().height,left:o,top:r};return{root:i.root,openPopouts:i.openPopouts,settings:i.settings,dimensions:i.dimensions,header:i.header,window:l,parentId:this._config.parentId,indexInParent:this._config.indexInParent,resolved:!0}}getGlInstance(){if(this._popoutWindow===null)throw new k("BPGGI24693");return this._popoutWindow.__glInstance}getWindow(){if(this._popoutWindow===null)throw new k("BPGW087215");return this._popoutWindow}close(){if(this.getGlInstance())this.getGlInstance().closeWindow();else try{this.getWindow().close()}catch{}}popIn(){let e,t=this._config.indexInParent;if(!this._config.parentId)return;const n=this.getGlInstance().saveLayout(),o=oe({},n).root;if(o===void 0)throw new b("BPPIR19998");const r=this._layoutManager.groundItem;if(r===void 0)throw new b("BPPIG34972");e=r.getItemsByPopInParentId(this._config.parentId)[0],e||(r.contentItems.length>0?e=r.contentItems[0]:e=r,t=0);const l=this._layoutManager.createAndInitContentItem(o,e);e.addChild(l,t),this._layoutManager.layoutConfig.settings.popInOnClose?this._onClose():this.close()}createWindow(){const e=this.createUrl(),t=Math.floor(Math.random()*1e6).toString(36),n=this.serializeWindowFeatures({width:this._initialWindowSize.width,height:this._initialWindowSize.height,innerWidth:this._initialWindowSize.width,innerHeight:this._initialWindowSize.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=globalThis.open(e,t,n),!this._popoutWindow){if(this._layoutManager.layoutConfig.settings.blockedPopoutsThrowError===!0)throw new An("Popout blocked");return}this._popoutWindow.addEventListener("load",()=>this.positionWindow(),{passive:!0}),this._popoutWindow.addEventListener("beforeunload",()=>{this._layoutManager.layoutConfig.settings.popInOnClose?this.popIn():this._onClose()},{passive:!0}),this._checkReadyInterval=setInterval(()=>this.checkReady(),10)}checkReady(){if(this._popoutWindow===null)throw new k("BPCR01844");this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this.onInitialised(),this._checkReadyInterval!==void 0&&(clearInterval(this._checkReadyInterval),this._checkReadyInterval=void 0))}serializeWindowFeatures(e){const t=[];for(const n in e)t.push(n+"="+e[n].toString());return t.join(",")}createUrl(){const e="gl-window-config-"+$t(),t=w.minifyConfig(this._config);try{localStorage.setItem(e,JSON.stringify(t))}catch(i){throw new Error("Error while writing to localStorage "+i.toString())}const n=new URL(location.href);return n.searchParams.set("gl-window",e),n.toString()}positionWindow(){if(this._popoutWindow===null)throw new Error("BrowserPopout.positionWindow: null popoutWindow");this._popoutWindow.moveTo(this._initialWindowSize.left,this._initialWindowSize.top),this._popoutWindow.focus()}onInitialised(){this._isInitialised=!0,this.getGlInstance().on("popIn",()=>this.popIn()),this.emit("initialised")}_onClose(){setTimeout(()=>this.emit("closed"),50)}}function xe(s){const e=s.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}class U extends D{constructor(e,t,n,i){super();this.layoutManager=e,this._parent=n,this._element=i,this._popInParentIds=[],this._type=t.type,this._id=t.id,this._isInitialised=!1,this.isGround=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.width=t.width,this.minWidth=t.minWidth,this.height=t.height,this.minHeight=t.minHeight,this._isClosable=t.isClosable,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this._contentItems=this.createContentItems(t.content)}get type(){return this._type}get id(){return this._id}set id(e){this._id=e}get popInParentIds(){return this._popInParentIds}get parent(){return this._parent}get contentItems(){return this._contentItems}get isClosable(){return this._isClosable}get element(){return this._element}get isInitialised(){return this._isInitialised}static isStack(e){return e.isStack}static isComponentItem(e){return e.isComponent}static isComponentParentableItem(e){return e.isStack||e.isGround}removeChild(e,t=!1){const n=this._contentItems.indexOf(e);if(n===-1)throw new Error("Can't remove child item. Unknown content item");if(t||this._contentItems[n].destroy(),this._contentItems.splice(n,1),this._contentItems.length>0)this.updateSize(!1);else if(!this.isGround&&this._isClosable===!0){if(this._parent===null)throw new k("CIUC00874");this._parent.removeChild(this)}}addChild(e,t,n){return t!=null||(t=this._contentItems.length),this._contentItems.splice(t,0,e),e.setParent(this),this._isInitialised===!0&&e._isInitialised===!1&&e.init(),t}replaceChild(e,t,n=!1){const i=this._contentItems.indexOf(e),o=e._element.parentNode;if(i===-1)throw new L("CIRCI23232","Can't replace child. oldChild is not child of this");if(o===null)throw new k("CIRCP23232");if(o.replaceChild(t._element,e._element),n===!0&&(e._parent=null,e.destroy()),this._contentItems[i]=t,t.setParent(this),t.height=e.height,t.width=e.width,t._parent===null)throw new k("CIRCNC45699");t._parent._isInitialised===!0&&t._isInitialised===!1&&t.init(),this.updateSize(!1)}remove(){if(this._parent===null)throw new k("CIR11110");this._parent.removeChild(this)}popout(){const e=$t(),t=this.layoutManager.createPopoutFromContentItem(this,void 0,e,void 0);return this.emitBaseBubblingEvent("stateChanged"),t}calculateConfigContent(){const e=this._contentItems,t=e.length,n=new Array(t);for(let i=0;i<t;i++){const o=e[i];n[i]=o.toConfig()}return n}highlightDropZone(e,t,n){const i=this.layoutManager.dropTargetIndicator;if(i===null)throw new k("ACIHDZ5593");i.highlightArea(n)}onDrop(e,t){this.addChild(e)}show(){this.layoutManager.beginSizeInvalidation();try{ae(this._element,!0);for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].show()}finally{this.layoutManager.endSizeInvalidation()}}destroy(){for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].destroy();this._contentItems=[],this.emitBaseBubblingEvent("beforeItemDestroyed"),this._element.remove(),this.emitBaseBubblingEvent("itemDestroyed")}getElementArea(e){e=e!=null?e:this._element;const t=xe(e),n=e.offsetWidth,i=e.offsetHeight;return{x1:t.left+1,y1:t.top+1,x2:t.left+n-1,y2:t.top+i-1,surface:n*i,contentItem:this}}init(){this._isInitialised=!0,this.emitBaseBubblingEvent("itemCreated"),this.emitUnknownBubblingEvent(this.type+"Created")}setParent(e){this._parent=e}addPopInParentId(e){this.popInParentIds.includes(e)||this.popInParentIds.push(e)}initContentItems(){for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].init()}hide(){this.layoutManager.beginSizeInvalidation();try{ae(this._element,!1)}finally{this.layoutManager.endSizeInvalidation()}}updateContentItemsSize(e){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].updateSize(e)}createContentItems(e){const t=e.length,n=new Array(t);for(let i=0;i<e.length;i++)n[i]=this.layoutManager.createContentItem(e[i],this);return n}propagateEvent(e,t){if(t.length===1){const n=t[0];n instanceof D.BubblingEvent&&n.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(e,n):this.scheduleEventPropagationToLayoutManager(e,n))}}tryBubbleEvent(e,t){if(t.length===1){const n=t[0];n instanceof D.BubblingEvent&&n.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(e,n):this.scheduleEventPropagationToLayoutManager(e,n))}}scheduleEventPropagationToLayoutManager(e,t){this._throttledEvents.indexOf(e)===-1?this.layoutManager.emitUnknown(e,t):this._pendingEventPropagations[e]!==!0&&(this._pendingEventPropagations[e]=!0,globalThis.requestAnimationFrame(()=>this.propagateEventToLayoutManager(e,t)))}propagateEventToLayoutManager(e,t){this._pendingEventPropagations[e]=!1,this.layoutManager.emitUnknown(e,t)}}class re extends U{constructor(e,t,n){super(e,t,n,document.createElement("div"));this._parentItem=n,this._focused=!1,this.isComponent=!0,this._reorderEnabled=t.reorderEnabled,this.applyUpdatableConfig(t),this._initialWantMaximise=t.maximised;const i=document.createElement("div");i.classList.add("lm_content"),this.element.appendChild(i),this._container=new Pn(t,this,e,i,o=>this.handleUpdateItemConfigEvent(o),()=>this.show(),()=>this.hide(),o=>this.focus(o),o=>this.blur(o))}get componentName(){return this._container.componentType}get componentType(){return this._container.componentType}get reorderEnabled(){return this._reorderEnabled}get initialWantMaximise(){return this._initialWantMaximise}get component(){return this._container.component}get container(){return this._container}get parentItem(){return this._parentItem}get headerConfig(){return this._headerConfig}get title(){return this._title}get tab(){return this._tab}get focused(){return this._focused}destroy(){this._container.destroy(),super.destroy()}applyUpdatableConfig(e){this.setTitle(e.title),this._headerConfig=e.header}toConfig(){const e=this._container.stateRequestEvent,t=e===void 0?this._container.state:e();return{type:p.component,content:[],width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight,id:this.id,maximised:!1,isClosable:this.isClosable,reorderEnabled:this._reorderEnabled,title:this._title,header:Y.Header.createCopy(this._headerConfig),componentType:ge.copyComponentType(this.componentType),componentState:t}}close(){if(this.parent===null)throw new k("CIC68883");this.parent.removeChild(this,!1)}enterDragMode(e,t){j(this.element,e),G(this.element,t),this._container.enterDragMode(e,t)}exitDragMode(){this._container.exitDragMode()}enterStackMaximised(){this._container.enterStackMaximised()}exitStackMaximised(){this._container.exitStackMaximised()}drag(){this._container.drag()}updateSize(e){this.updateNodeSize(e)}init(){this.updateNodeSize(!1),super.init(),this._container.emit("open"),this.initContentItems()}setTitle(e){this._title=e,this.emit("titleChanged",e),this.emit("stateChanged")}setTab(e){this._tab=e,this.emit("tab",e),this._container.setTab(e)}hide(){super.hide(),this._container.setVisibility(!1)}show(){super.show(),this._container.setVisibility(!0)}focus(e=!1){this.parentItem.setActiveComponentItem(this,!0,e)}setFocused(e){this._focused=!0,this.tab.setFocused(),e||this.emitBaseBubblingEvent("focus")}blur(e=!1){this._focused&&this.layoutManager.setFocusedComponentItem(void 0,e)}setBlurred(e){this._focused=!1,this.tab.setBlurred(),e||this.emitBaseBubblingEvent("blur")}setParent(e){this._parentItem=e,super.setParent(e)}handleUpdateItemConfigEvent(e){this.applyUpdatableConfig(e)}updateNodeSize(e){if(this.element.style.display!=="none"){const{width:t,height:n}=J(this.element);this._container.setSizeToNodeSize(t,n,e)}}}class en extends U{constructor(){super(...arguments);this._focused=!1}get focused(){return this._focused}setFocusedValue(e){this._focused=e}}class wt extends D{constructor(e,t){super();this._eElement=e,this._pointerTracking=!1,this._pointerDownEventListener=n=>this.onPointerDown(n),this._pointerMoveEventListener=n=>this.onPointerMove(n),this._pointerUpEventListener=n=>this.onPointerUp(n),this._timeout=void 0,this._allowableTargets=[e,...t],this._oDocument=document,this._eBody=document.body,this._nDelay=1800,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._dragging=!1,this._eElement.addEventListener("pointerdown",this._pointerDownEventListener,{passive:!0})}destroy(){this.checkRemovePointerTrackingEventListeners(),this._eElement.removeEventListener("pointerdown",this._pointerDownEventListener)}cancelDrag(){this.processDragStop(void 0)}onPointerDown(e){if(this._allowableTargets.includes(e.target)&&e.isPrimary){const t=this.getPointerCoordinates(e);this.processPointerDown(t)}}processPointerDown(e){this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.addEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.addEventListener("pointerup",this._pointerUpEventListener,{passive:!0}),this._pointerTracking=!0,this._timeout=setTimeout(()=>{try{this.startDrag()}catch(t){throw console.error(t),t}},this._nDelay)}onPointerMove(e){this._pointerTracking&&(this.processDragMove(e),e.preventDefault())}processDragMove(e){this._nX=e.pageX-this._nOriginalX,this._nY=e.pageY-this._nOriginalY,this._dragging===!1&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&this.startDrag(),this._dragging&&this.emit("drag",this._nX,this._nY,e)}onPointerUp(e){this.processDragStop(e)}processDragStop(e){var t;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this.checkRemovePointerTrackingEventListeners(),this._dragging===!0&&(this._eBody.classList.remove("lm_dragging"),this._eElement.classList.remove("lm_dragging"),(t=this._oDocument.querySelector("iframe"))===null||t===void 0||t.style.setProperty("pointer-events",""),this._dragging=!1,this.emit("dragStop",e))}checkRemovePointerTrackingEventListeners(){this._pointerTracking&&(this._oDocument.removeEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.removeEventListener("pointerup",this._pointerUpEventListener),this._pointerTracking=!1)}startDrag(){var e;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this._dragging=!0,this._eBody.classList.add("lm_dragging"),this._eElement.classList.add("lm_dragging"),(e=this._oDocument.querySelector("iframe"))===null||e===void 0||e.style.setProperty("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)}getPointerCoordinates(e){return{x:e.pageX,y:e.pageY}}}class Wn{constructor(e,t,n){this._isVertical=e,this._size=t,this._grabSize=n<this._size?this._size:n,this._element=document.createElement("div"),this._element.classList.add("lm_splitter");const i=document.createElement("div");i.classList.add("lm_drag_handle");const o=this._grabSize-this._size,r=o/2;this._isVertical?(i.style.top=E(-r),i.style.height=E(this._size+o),this._element.classList.add("lm_vertical"),this._element.style.height=E(this._size)):(i.style.left=E(-r),i.style.width=E(this._size+o),this._element.classList.add("lm_horizontal"),this._element.style.width=E(this._size)),this._element.appendChild(i),this._dragListener=new wt(this._element,[i])}get element(){return this._element}destroy(){this._element.remove()}on(e,t){this._dragListener.on(e,t)}}class ce extends U{constructor(e,t,n,i){super(t,n,i,ce.createElement(document,e));switch(this._rowOrColumnParent=i,this._splitter=[],this.isRow=!e,this.isColumn=e,this._childElementContainer=this.element,this._splitterSize=t.layoutConfig.dimensions.borderWidth,this._splitterGrabSize=t.layoutConfig.dimensions.borderGrabWidth,this._isColumn=e,this._dimension=e?"height":"width",this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,n.type){case p.row:case p.column:this._configType=n.type;break;default:throw new L("ROCCCT00925")}}newComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.newItem(o,i)}addComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.addItem(o,i)}newItem(e,t){t=this.addItem(e,t);const n=this.contentItems[t];return U.isStack(n)&&B.isComponent(e)?n.contentItems[0]:n}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();const n=B.resolve(e),i=this.layoutManager.createAndInitContentItem(n,this);return this.addChild(i,t,!1)}addChild(e,t,n){if(t===void 0&&(t=this.contentItems.length),this.contentItems.length>0){const o=this.createSplitter(Math.max(0,t-1)).element;t>0?(this.contentItems[t-1].element.insertAdjacentElement("afterend",o),o.insertAdjacentElement("afterend",e.element)):(this.contentItems[0].element.insertAdjacentElement("beforebegin",o),o.insertAdjacentElement("beforebegin",e.element))}else this._childElementContainer.appendChild(e.element);super.addChild(e,t);const i=1/this.contentItems.length*100;if(n===!0)return this.emitBaseBubblingEvent("stateChanged"),t;for(let o=0;o<this.contentItems.length;o++)if(this.contentItems[o]===e)e[this._dimension]=i;else{const r=this.contentItems[o][this._dimension]*=(100-i)/100;this.contentItems[o][this._dimension]=r}return this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),t}removeChild(e,t){const n=this.contentItems.indexOf(e),i=Math.max(n-1,0);if(n===-1)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");if(this._splitter[i]&&(this._splitter[i].destroy(),this._splitter.splice(i,1)),super.removeChild(e,t),this.contentItems.length===1&&this.isClosable===!0){const o=this.contentItems[0];this.contentItems.length=0,this._rowOrColumnParent.replaceChild(this,o,!0)}else this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}replaceChild(e,t){const n=e[this._dimension];super.replaceChild(e,t),t[this._dimension]=n,this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init();for(let e=0;e<this.contentItems.length-1;e++)this.contentItems[e].element.insertAdjacentElement("afterend",this.createSplitter(e).element);this.initContentItems()}}toConfig(){return{type:this.type,content:this.calculateConfigContent(),width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight,id:this.id,isClosable:this.isClosable}}setParent(e){this._rowOrColumnParent=e,super.setParent(e)}updateNodeSize(){this.contentItems.length>0&&(this.calculateRelativeSizes(),this.setAbsoluteSizes()),this.emitBaseBubblingEvent("stateChanged"),this.emit("resize")}setAbsoluteSizes(){const e=this.calculateAbsoluteSizes();for(let t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(j(this.contentItems[t].element,e.totalWidth),G(this.contentItems[t].element,e.itemSizes[t])):(j(this.contentItems[t].element,e.itemSizes[t]),G(this.contentItems[t].element,e.totalHeight))}calculateAbsoluteSizes(){const e=(this.contentItems.length-1)*this._splitterSize;let{width:t,height:n}=J(this.element);this._isColumn?n-=e:t-=e;let i=0;const o=[];for(let l=0;l<this.contentItems.length;l++){let a;this._isColumn?a=Math.floor(n*(this.contentItems[l].height/100)):a=Math.floor(t*(this.contentItems[l].width/100)),i+=a,o.push(a)}const r=Math.floor((this._isColumn?n:t)-i);return{itemSizes:o,additionalPixel:r,totalWidth:t,totalHeight:n}}calculateRelativeSizes(){let e=0;const t=[];for(let n=0;n<this.contentItems.length;n++)this.contentItems[n][this._dimension]!==void 0?e+=this.contentItems[n][this._dimension]:t.push(this.contentItems[n]);if(Math.round(e)===100){this.respectMinItemWidth();return}if(Math.round(e)<100&&t.length>0){for(let n=0;n<t.length;n++)t[n][this._dimension]=(100-e)/t.length;this.respectMinItemWidth();return}if(Math.round(e)>100)for(let n=0;n<t.length;n++)t[n][this._dimension]=50,e+=50;for(let n=0;n<this.contentItems.length;n++)this.contentItems[n][this._dimension]=this.contentItems[n][this._dimension]/e*100;this.respectMinItemWidth()}respectMinItemWidth(){const e=this.layoutManager.layoutConfig.dimensions.minItemWidth;let t=0,n=0;const i=[],o=[];if(this._isColumn||!e||this.contentItems.length<=1)return;const r=this.calculateAbsoluteSizes();for(let d=0;d<r.itemSizes.length;d++){const h=r.itemSizes[d];let c;h<e?(n+=e-h,c={width:e}):(t+=h-e,c={width:h},i.push(c)),o.push(c)}if(n===0||n>t)return;const l=n/t;let a=n;for(let d=0;d<i.length;d++){const h=i[d],c=Math.round((h.width-e)*l);a-=c,h.width-=c}a!==0&&(o[o.length-1].width-=a);for(let d=0;d<this.contentItems.length;d++)this.contentItems[d].width=o[d].width/r.totalWidth*100}createSplitter(e){const t=new Wn(this._isColumn,this._splitterSize,this._splitterGrabSize);return t.on("drag",(n,i)=>this.onSplitterDrag(t,n,i)),t.on("dragStop",()=>this.onSplitterDragStop(t)),t.on("dragStart",()=>this.onSplitterDragStart(t)),this._splitter.splice(e,0,t),t}getItemsForSplitter(e){const t=this._splitter.indexOf(e);return{before:this.contentItems[t],after:this.contentItems[t+1]}}getMinimumDimensions(e){var t,n;let i=0,o=0;for(let r=0;r<e.length;++r)i=Math.max((t=e[r].minWidth)!==null&&t!==void 0?t:0,i),o=Math.max((n=e[r].minHeight)!==null&&n!==void 0?n:0,o);return{horizontal:i,vertical:o}}onSplitterDragStart(e){const t=this.getItemsForSplitter(e),n=this.layoutManager.layoutConfig.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],i=this.getMinimumDimensions(t.before.contentItems),o=this._isColumn?i.vertical:i.horizontal,r=this.getMinimumDimensions(t.after.contentItems),l=this._isColumn?r.vertical:r.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(fe(t.before.element.style[this._dimension])-(o||n)),this._splitterMaxPosition=fe(t.after.element.style[this._dimension])-(l||n)}onSplitterDrag(e,t,n){let i=this._isColumn?n:t;if(this._splitterMinPosition===null||this._splitterMaxPosition===null)throw new k("ROCOSD59226");i=Math.max(i,this._splitterMinPosition),i=Math.min(i,this._splitterMaxPosition),this._splitterPosition=i;const o=E(i);this._isColumn?e.element.style.top=o:e.element.style.left=o}onSplitterDragStop(e){if(this._splitterPosition===null)throw new k("ROCOSDS66932");{const t=this.getItemsForSplitter(e),n=fe(t.before.element.style[this._dimension]),i=fe(t.after.element.style[this._dimension]),o=(this._splitterPosition+n)/(n+i),r=t.before[this._dimension]+t.after[this._dimension];t.before[this._dimension]=o*r,t.after[this._dimension]=(1-o)*r,e.element.style.top=E(0),e.element.style.left=E(0),globalThis.requestAnimationFrame(()=>this.updateSize(!1))}}}(function(s){function e(i,o){return o==="width"?ht(i):ct(i)}s.getElementDimensionSize=e;function t(i,o,r){return o==="width"?j(i,r):G(i,r)}s.setElementDimensionSize=t;function n(i,o){const r=i.createElement("div");return r.classList.add("lm_item"),o?r.classList.add("lm_column"):r.classList.add("lm_row"),r}s.createElement=n})(ce||(ce={}));class se extends en{constructor(e,t,n){super(e,ut.create(t),null,se.createElement(document));this.isGround=!0,this._childElementContainer=this.element,this._containerElement=n;let i=null;for(;;){const o=i?i.previousSibling:this._containerElement.lastChild;if(o instanceof Element&&o.classList.contains("lm_content"))i=o;else break}this._containerElement.insertBefore(this.element,i)}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init(),this.initContentItems()}}loadRoot(e){if(this.clearRoot(),e!==void 0){const t=this.layoutManager.createAndInitContentItem(e,this);this.addChild(t,0)}}clearRoot(){const e=this.contentItems;switch(e.length){case 0:return;case 1:{e[0].remove();return}default:throw new L("GILR07721")}}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();const n=B.resolve(e);let i;if(this.contentItems.length>0?i=this.contentItems[0]:i=this,i.isComponent)throw new Error("Cannot add item as child to ComponentItem");{const o=this.layoutManager.createAndInitContentItem(n,i);return t=i.addChild(o,t),i===this?-1:t}}loadComponentAsRoot(e){this.clearRoot();const t=B.resolve(e);if(t.maximised)throw new Error("Root Component cannot be maximised");{const n=new re(this.layoutManager,t,this);n.init(),this.addChild(n,0)}}addChild(e,t){if(this.contentItems.length>0)throw new Error("Ground node can only have a single child");return this._childElementContainer.appendChild(e.element),t=super.addChild(e,t),this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),t}calculateConfigContent(){const e=this.contentItems,t=e.length,n=new Array(t);for(let i=0;i<t;i++){const r=e[i].toConfig();if(he.isRootItemConfig(r))n[i]=r;else throw new L("RCCC66832")}return n}setSize(e,t){e===void 0||t===void 0?this.updateSize(!1):(j(this.element,e),G(this.element,t),this.contentItems.length>0&&(j(this.contentItems[0].element,e),G(this.contentItems[0].element,t)),this.updateContentItemsSize(!1))}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}createSideAreas(){const t=se.Area.oppositeSides,n=new Array(Object.keys(t).length);let i=0;for(const o in t){const r=o,l=this.getElementArea();if(l===null)throw new k("RCSA77553");l.side=r,t[r][1]==="2"?l[r]=l[t[r]]-50:l[r]=l[t[r]]+50,l.surface=(l.x2-l.x1)*(l.y2-l.y1),n[i++]=l}return n}highlightDropZone(e,t,n){this.layoutManager.tabDropPlaceholder.remove(),super.highlightDropZone(e,t,n)}onDrop(e,t){if(e.isComponent){const n=te.createDefault(),i=e;n.header=Y.Header.createCopy(i.headerConfig);const o=this.layoutManager.createAndInitContentItem(n,this);o.addChild(e),e=o}if(this.contentItems.length===0)this.addChild(e);else{if(e.type===p.row||e.type===p.column){const l=te.createDefault(),a=this.layoutManager.createContentItem(l,this);a.addChild(e),e=a}const n=t.side[0]=="x"?p.row:p.column,i=t.side[0]=="x"?"width":"height",o=t.side[1]=="2",r=this.contentItems[0];if(!(r instanceof ce)||r.type!==n){const l=C.createDefault(n),a=this.layoutManager.createContentItem(l,this);this.replaceChild(r,a),a.addChild(e,o?0:void 0,!0),a.addChild(r,o?void 0:0,!0),r[i]=50,e[i]=50,a.updateSize(!1)}else{const l=r.contentItems[o?0:r.contentItems.length-1];r.addChild(e,o?0:void 0,!0),l[i]*=.5,e[i]=l[i],r.updateSize(!1)}}}dock(){throw new L("GID87731")}validateDocking(){throw new L("GIVD87732")}getAllContentItems(){const e=[this];return this.deepGetAllContentItems(this.contentItems,e),e}getConfigMaximisedItems(){const e=[];return this.deepFilterContentItems(this.contentItems,e,t=>U.isStack(t)&&t.initialWantMaximise?!0:!!(U.isComponentItem(t)&&t.initialWantMaximise)),e}getItemsByPopInParentId(e){const t=[];return this.deepFilterContentItems(this.contentItems,t,n=>n.popInParentIds.includes(e)),t}toConfig(){throw new Error("Cannot generate GroundItem config")}setActiveComponentItem(e,t,n){}updateNodeSize(){const{width:e,height:t}=J(this._containerElement);j(this.element,e),G(this.element,t),this.contentItems.length>0&&(j(this.contentItems[0].element,e),G(this.contentItems[0].element,t))}deepGetAllContentItems(e,t){for(let n=0;n<e.length;n++){const i=e[n];t.push(i),this.deepGetAllContentItems(i.contentItems,t)}}deepFilterContentItems(e,t,n){for(let i=0;i<e.length;i++){const o=e[i];n(o)&&t.push(o),this.deepFilterContentItems(o.contentItems,t,n)}}}(function(s){(function(t){t.oppositeSides={y2:"y1",x2:"x1",y1:"y2",x1:"x2"}})(s.Area||(s.Area={}));function e(t){const n=t.createElement("div");return n.classList.add("lm_goldenlayout"),n.classList.add("lm_item"),n.classList.add("lm_root"),n}s.createElement=e})(se||(se={}));class Re{constructor(e,t,n,i){this._header=e,this._pushEvent=i,this._clickEventListener=o=>this.onClick(o),this._touchStartEventListener=o=>this.onTouchStart(o),this._element=document.createElement("div"),this._element.classList.add(n),this._element.title=t,this._header.on("destroy",()=>this.destroy()),this._element.addEventListener("click",this._clickEventListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartEventListener,{passive:!0}),this._header.controlsContainerElement.appendChild(this._element)}get element(){return this._element}destroy(){var e;this._element.removeEventListener("click",this._clickEventListener),this._element.removeEventListener("touchstart",this._touchStartEventListener),(e=this._element.parentNode)===null||e===void 0||e.removeChild(this._element)}onClick(e){this._pushEvent(e)}onTouchStart(e){this._pushEvent(e)}}class Hn{constructor(e,t,n,i,o){var r;this._layoutManager=e,this._componentItem=t,this._closeEvent=n,this._focusEvent=i,this._dragStartEvent=o,this._isActive=!1,this._tabClickListener=a=>this.onTabClickDown(a),this._tabTouchStartListener=a=>this.onTabTouchStart(a),this._closeClickListener=()=>this.onCloseClick(),this._closeTouchStartListener=()=>this.onCloseTouchStart(),this._dragStartListener=(a,d)=>this.onDragStart(a,d),this._contentItemDestroyListener=()=>this.onContentItemDestroy(),this._tabTitleChangedListener=a=>this.setTitle(a),this._element=document.createElement("div"),this._element.classList.add("lm_tab"),this._titleElement=document.createElement("span"),this._titleElement.classList.add("lm_title"),this._closeElement=document.createElement("div"),this._closeElement.classList.add("lm_close_tab"),this._element.appendChild(this._titleElement),this._element.appendChild(this._closeElement),t.isClosable?this._closeElement.style.display="":this._closeElement.style.display="none",this.setTitle(t.title),this._componentItem.on("titleChanged",this._tabTitleChangedListener),((r=t.reorderEnabled)!==null&&r!==void 0?r:this._layoutManager.layoutConfig.settings.reorderEnabled)&&this.enableReorder(),this._element.addEventListener("click",this._tabClickListener,{passive:!0}),this._element.addEventListener("touchstart",this._tabTouchStartListener,{passive:!0}),this._componentItem.isClosable?(this._closeElement.addEventListener("click",this._closeClickListener,{passive:!0}),this._closeElement.addEventListener("touchstart",this._closeTouchStartListener,{passive:!0})):(this._closeElement.remove(),this._closeElement=void 0),this._componentItem.setTab(this),this._layoutManager.emit("tabCreated",this)}get isActive(){return this._isActive}get componentItem(){return this._componentItem}get contentItem(){return this._componentItem}get element(){return this._element}get titleElement(){return this._titleElement}get closeElement(){return this._closeElement}get reorderEnabled(){return this._dragListener!==void 0}set reorderEnabled(e){e!==this.reorderEnabled&&(e?this.enableReorder():this.disableReorder())}setTitle(e){this._titleElement.innerText=e,this._element.title=e}setActive(e){e!==this._isActive&&(this._isActive=e,e?this._element.classList.add("lm_active"):this._element.classList.remove("lm_active"))}destroy(){var e,t;this._closeEvent=void 0,this._focusEvent=void 0,this._dragStartEvent=void 0,this._element.removeEventListener("click",this._tabClickListener),this._element.removeEventListener("touchstart",this._tabTouchStartListener),(e=this._closeElement)===null||e===void 0||e.removeEventListener("click",this._closeClickListener),(t=this._closeElement)===null||t===void 0||t.removeEventListener("touchstart",this._closeTouchStartListener),this._componentItem.off("titleChanged",this._tabTitleChangedListener),this.reorderEnabled&&this.disableReorder(),this._element.remove()}setBlurred(){this._element.classList.remove("lm_focused"),this._titleElement.classList.remove("lm_focused")}setFocused(){this._element.classList.add("lm_focused"),this._titleElement.classList.add("lm_focused")}onDragStart(e,t){if(this._dragListener===void 0)throw new b("TODSDLU10093");if(this._dragStartEvent===void 0)throw new b("TODS23309");this._dragStartEvent(e,t,this._dragListener,this.componentItem)}onContentItemDestroy(){this._dragListener!==void 0&&(this._dragListener.destroy(),this._dragListener=void 0)}onTabClickDown(e){const t=e.target;(t===this._element||t===this._titleElement)&&(e.button===0?this.notifyFocus():e.button===1&&this._componentItem.isClosable&&this.notifyClose())}onTabTouchStart(e){e.target===this._element&&this.notifyFocus()}onCloseClick(){this.notifyClose()}onCloseTouchStart(){this.notifyClose()}notifyClose(){if(this._closeEvent===void 0)throw new b("TNC15007");this._closeEvent(this._componentItem)}notifyFocus(){if(this._focusEvent===void 0)throw new b("TNA15007");this._focusEvent(this._componentItem)}enableReorder(){this._dragListener=new wt(this._element,[this._titleElement]),this._dragListener.on("dragStart",this._dragStartListener),this._componentItem.on("destroy",this._contentItemDestroyListener)}disableReorder(){if(this._dragListener===void 0)throw new b("TDR87745");this._componentItem.off("destroy",this._contentItemDestroyListener),this._dragListener.off("dragStart",this._dragStartListener),this._dragListener=void 0}}class Rn{constructor(e,t,n,i,o){this._layoutManager=e,this._componentRemoveEvent=t,this._componentFocusEvent=n,this._componentDragStartEvent=i,this._dropdownActiveChangedEvent=o,this._tabs=[],this._lastVisibleTabIndex=-1,this._dropdownActive=!1,this._element=document.createElement("section"),this._element.classList.add("lm_tabs"),this._dropdownElement=document.createElement("section"),this._dropdownElement.classList.add("lm_tabdropdown_list"),this._dropdownElement.style.display="none"}get tabs(){return this._tabs}get tabCount(){return this._tabs.length}get lastVisibleTabIndex(){return this._lastVisibleTabIndex}get element(){return this._element}get dropdownElement(){return this._dropdownElement}get dropdownActive(){return this._dropdownActive}destroy(){for(let e=0;e<this._tabs.length;e++)this._tabs[e].destroy()}createTab(e,t){for(let i=0;i<this._tabs.length;i++)if(this._tabs[i].componentItem===e)return;const n=new Hn(this._layoutManager,e,i=>this.handleTabCloseEvent(i),i=>this.handleTabFocusEvent(i),(i,o,r,l)=>this.handleTabDragStartEvent(i,o,r,l));this._tabs.length===0?(this._tabs.push(n),this._element.appendChild(n.element)):(t===void 0&&(t=this._tabs.length),t>0?this._tabs[t-1].element.insertAdjacentElement("afterend",n.element):this._tabs[0].element.insertAdjacentElement("beforebegin",n.element),this._tabs.splice(t,0,n))}removeTab(e){for(let t=0;t<this._tabs.length;t++)if(this._tabs[t].componentItem===e){this._tabs[t].destroy(),this._tabs.splice(t,1);return}throw new Error("contentItem is not controlled by this header")}processActiveComponentChanged(e){let t=-1;for(let n=0;n<this._tabs.length;n++){const i=this._tabs[n].componentItem===e;this._tabs[n].setActive(i),i&&(t=n)}if(t<0)throw new L("HSACI56632");if(this._layoutManager.layoutConfig.settings.reorderOnTabMenuClick&&this._lastVisibleTabIndex!==-1&&t>this._lastVisibleTabIndex){const n=this._tabs[t];for(let i=t;i>0;i--)this._tabs[i]=this._tabs[i-1];this._tabs[0]=n}}updateTabSizes(e,t){let n=!1;this.tryUpdateTabSizes(n,e,t)||(n=!0,this.tryUpdateTabSizes(n,e,t)),n!==this._dropdownActive&&(this._dropdownActive=n,this._dropdownActiveChangedEvent())}tryUpdateTabSizes(e,t,n){if(this._tabs.length>0){if(n===void 0)throw new Error("non-empty tabs must have active component item");let i=0,o=!1;const r=this._layoutManager.layoutConfig.settings.tabOverlapAllowance,l=this._tabs.indexOf(n.tab),a=this._tabs[l];this._lastVisibleTabIndex=-1;for(let d=0;d<this._tabs.length;d++){const h=this._tabs[d].element;h.parentElement!==this._element&&this._element.appendChild(h);const c=getComputedStyle(a.element).marginRight,u=fe(c);i+=h.offsetWidth+u;let m=0;if(l<=d)m=i;else{const g=getComputedStyle(a.element).marginRight,v=fe(g);m=i+a.element.offsetWidth+v}if(m>t){if(o)d===l&&(h.style.zIndex="auto",h.style.marginLeft="",h.parentElement!==this._element&&this._element.appendChild(h));else{let g;if(l>0&&l<=d?g=(m-t)/(d-1):g=(m-t)/d,g<r){for(let v=0;v<=d;v++){const I=v!==l&&v!==0?"-"+E(g):"";this._tabs[v].element.style.zIndex=E(d-v),this._tabs[v].element.style.marginLeft=I}this._lastVisibleTabIndex=d,h.parentElement!==this._element&&this._element.appendChild(h)}else o=!0}if(o&&d!==l)if(e)h.style.zIndex="auto",h.style.marginLeft="",h.parentElement!==this._dropdownElement&&this._dropdownElement.appendChild(h);else return!1}else this._lastVisibleTabIndex=d,h.style.zIndex="auto",h.style.marginLeft="",h.parentElement!==this._element&&this._element.appendChild(h)}}return!0}showAdditionalTabsDropdown(){this._dropdownElement.style.display=""}hideAdditionalTabsDropdown(){this._dropdownElement.style.display="none"}handleTabCloseEvent(e){this._componentRemoveEvent(e)}handleTabFocusEvent(e){this._componentFocusEvent(e)}handleTabDragStartEvent(e,t,n,i){this._componentDragStartEvent(e,t,n,i)}}class Bn extends D{constructor(e,t,n,i,o,r,l,a,d,h,c,u,f){super();this._layoutManager=e,this._parent=t,this._configClosable=i,this._getActiveComponentItemEvent=o,this._popoutEvent=l,this._maximiseToggleEvent=a,this._clickEvent=d,this._touchStartEvent=h,this._componentRemoveEvent=c,this._componentFocusEvent=u,this._componentDragStartEvent=f,this._clickListener=m=>this.onClick(m),this._touchStartListener=m=>this.onTouchStart(m),this._rowColumnClosable=!0,this._closeButton=null,this._popoutButton=null,this._tabsContainer=new Rn(this._layoutManager,m=>this.handleTabInitiatedComponentRemoveEvent(m),m=>this.handleTabInitiatedComponentFocusEvent(m),(m,g,v,I)=>this.handleTabInitiatedDragStartEvent(m,g,v,I),()=>this.processTabDropdownActiveChanged()),this._show=n.show,this._popoutEnabled=n.popoutEnabled,this._popoutLabel=n.popoutLabel,this._maximiseEnabled=n.maximiseEnabled,this._maximiseLabel=n.maximiseLabel,this._minimiseEnabled=n.minimiseEnabled,this._minimiseLabel=n.minimiseLabel,this._closeEnabled=n.closeEnabled,this._closeLabel=n.closeLabel,this._tabDropdownEnabled=n.tabDropdownEnabled,this._tabDropdownLabel=n.tabDropdownLabel,this.setSide(n.side),this._canRemoveComponent=this._configClosable,this._element=document.createElement("section"),this._element.classList.add("lm_header"),this._controlsContainerElement=document.createElement("section"),this._controlsContainerElement.classList.add("lm_controls"),this._element.appendChild(this._tabsContainer.element),this._element.appendChild(this._controlsContainerElement),this._element.appendChild(this._tabsContainer.dropdownElement),this._element.addEventListener("click",this._clickListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartListener,{passive:!0}),this._documentMouseUpListener=()=>this._tabsContainer.hideAdditionalTabsDropdown(),globalThis.document.addEventListener("mouseup",this._documentMouseUpListener,{passive:!0}),this._tabControlOffset=this._layoutManager.layoutConfig.settings.tabControlOffset,this._tabDropdownEnabled&&(this._tabDropdownButton=new Re(this,this._tabDropdownLabel,"lm_tabdropdown",()=>this._tabsContainer.showAdditionalTabsDropdown())),this._popoutEnabled&&(this._popoutButton=new Re(this,this._popoutLabel,"lm_popout",()=>this.handleButtonPopoutEvent())),this._maximiseEnabled&&(this._maximiseButton=new Re(this,this._maximiseLabel,"lm_maximise",m=>this.handleButtonMaximiseToggleEvent(m))),this._configClosable&&(this._closeButton=new Re(this,this._closeLabel,"lm_close",()=>r())),this.processTabDropdownActiveChanged()}get show(){return this._show}get side(){return this._side}get leftRightSided(){return this._leftRightSided}get layoutManager(){return this._layoutManager}get parent(){return this._parent}get tabs(){return this._tabsContainer.tabs}get lastVisibleTabIndex(){return this._tabsContainer.lastVisibleTabIndex}get element(){return this._element}get tabsContainerElement(){return this._tabsContainer.element}get controlsContainerElement(){return this._controlsContainerElement}destroy(){this.emit("destroy"),this._popoutEvent=void 0,this._maximiseToggleEvent=void 0,this._clickEvent=void 0,this._touchStartEvent=void 0,this._componentRemoveEvent=void 0,this._componentFocusEvent=void 0,this._componentDragStartEvent=void 0,this._tabsContainer.destroy(),globalThis.document.removeEventListener("mouseup",this._documentMouseUpListener),this._element.remove()}createTab(e,t){this._tabsContainer.createTab(e,t)}removeTab(e){this._tabsContainer.removeTab(e)}processActiveComponentChanged(e){this._tabsContainer.processActiveComponentChanged(e),this.updateTabSizes()}setSide(e){this._side=e,this._leftRightSided=[ie.right,ie.left].includes(this._side)}setRowColumnClosable(e){this._rowColumnClosable=e,this.updateClosability()}updateClosability(){let e;if(!this._configClosable)e=!1;else if(!this._rowColumnClosable)e=!1;else{e=!0;const t=this.tabs.length;for(let n=0;n<t;n++)if(!this._tabsContainer.tabs[n].componentItem.isClosable){e=!1;break}}this._closeButton!==null&&ae(this._closeButton.element,e),this._popoutButton!==null&&ae(this._popoutButton.element,e),this._canRemoveComponent=e||this._tabsContainer.tabCount>1}applyFocusedValue(e){e?this._element.classList.add("lm_focused"):this._element.classList.remove("lm_focused")}processMaximised(){if(this._maximiseButton===void 0)throw new b("HPMAX16997");this._maximiseButton.element.setAttribute("title",this._minimiseLabel)}processMinimised(){if(this._maximiseButton===void 0)throw new b("HPMIN16997");this._maximiseButton.element.setAttribute("title",this._maximiseLabel)}updateTabSizes(){if(this._tabsContainer.tabCount>0){const e=this._show?this._layoutManager.layoutConfig.dimensions.headerHeight:0;this._leftRightSided?(this._element.style.height="",this._element.style.width=E(e)):(this._element.style.width="",this._element.style.height=E(e));let t;this._leftRightSided?t=this._element.offsetHeight-this._controlsContainerElement.offsetHeight-this._tabControlOffset:t=this._element.offsetWidth-this._controlsContainerElement.offsetWidth-this._tabControlOffset,this._tabsContainer.updateTabSizes(t,this._getActiveComponentItemEvent())}}handleTabInitiatedComponentRemoveEvent(e){if(this._canRemoveComponent){if(this._componentRemoveEvent===void 0)throw new b("HHTCE22294");this._componentRemoveEvent(e)}}handleTabInitiatedComponentFocusEvent(e){if(this._componentFocusEvent===void 0)throw new b("HHTAE22294");this._componentFocusEvent(e)}handleTabInitiatedDragStartEvent(e,t,n,i){if(!this._canRemoveComponent)n.cancelDrag();else{if(this._componentDragStartEvent===void 0)throw new b("HHTDSE22294");this._componentDragStartEvent(e,t,n,i)}}processTabDropdownActiveChanged(){this._tabDropdownButton!==void 0&&ae(this._tabDropdownButton.element,this._tabsContainer.dropdownActive)}handleButtonPopoutEvent(){if(this._layoutManager.layoutConfig.settings.popoutWholeStack){if(this._popoutEvent===void 0)throw new b("HHBPOE17834");this._popoutEvent()}else{const e=this._getActiveComponentItemEvent();e&&e.popout()}}handleButtonMaximiseToggleEvent(e){if(this._maximiseToggleEvent===void 0)throw new b("HHBMTE16834");this._maximiseToggleEvent()}onClick(e){e.target===this._element&&this.notifyClick(e)}onTouchStart(e){e.target===this._element&&this.notifyTouchStart(e)}notifyClick(e){if(this._clickEvent===void 0)throw new b("HNHC46834");this._clickEvent(e)}notifyTouchStart(e){if(this._touchStartEvent===void 0)throw new b("HNHTS46834");this._touchStartEvent(e)}}class K extends en{constructor(e,t,n){var i,o,r,l,a,d,h,c,u,f,m,g,v,I,A,z,V,O,S;super(e,t,n,K.createElement(document));this._headerSideChanged=!1,this._resizeListener=()=>this.handleResize(),this._maximisedListener=()=>this.handleMaximised(),this._minimisedListener=()=>this.handleMinimised(),this._headerConfig=t.header;const T=e.layoutConfig.header,W=t.content;let x;W.length!==1?x=void 0:x=W[0].header,this._initialWantMaximise=t.maximised,this._initialActiveItemIndex=(i=t.activeItemIndex)!==null&&i!==void 0?i:0;const ue=(l=(r=(o=this._headerConfig)===null||o===void 0?void 0:o.show)!==null&&r!==void 0?r:x==null?void 0:x.show)!==null&&l!==void 0?l:T.show,y=(h=(d=(a=this._headerConfig)===null||a===void 0?void 0:a.popout)!==null&&d!==void 0?d:x==null?void 0:x.popout)!==null&&h!==void 0?h:T.popout,st=(f=(u=(c=this._headerConfig)===null||c===void 0?void 0:c.maximise)!==null&&u!==void 0?u:x==null?void 0:x.maximise)!==null&&f!==void 0?f:T.maximise,ze=(v=(g=(m=this._headerConfig)===null||m===void 0?void 0:m.close)!==null&&g!==void 0?g:x==null?void 0:x.close)!==null&&v!==void 0?v:T.close,nn=(z=(A=(I=this._headerConfig)===null||I===void 0?void 0:I.minimise)!==null&&A!==void 0?A:x==null?void 0:x.minimise)!==null&&z!==void 0?z:T.minimise,ot=(S=(O=(V=this._headerConfig)===null||V===void 0?void 0:V.tabDropdown)!==null&&O!==void 0?O:x==null?void 0:x.tabDropdown)!==null&&S!==void 0?S:T.tabDropdown;this._maximisedEnabled=st!==!1;const sn={show:ue!==!1,side:ue===!1?ie.top:ue,popoutEnabled:y!==!1,popoutLabel:y===!1?"":y,maximiseEnabled:this._maximisedEnabled,maximiseLabel:st===!1?"":st,closeEnabled:ze!==!1,closeLabel:ze===!1?"":ze,minimiseEnabled:!0,minimiseLabel:nn,tabDropdownEnabled:ot!==!1,tabDropdownLabel:ot===!1?"":ot};this._header=new Bn(e,this,sn,t.isClosable&&ze!==!1,()=>this.getActiveComponentItem(),()=>this.remove(),()=>this.handlePopoutEvent(),()=>this.toggleMaximise(),q=>this.handleHeaderClickEvent(q),q=>this.handleHeaderTouchStartEvent(q),q=>this.handleHeaderComponentRemoveEvent(q),q=>this.handleHeaderComponentFocusEvent(q),(q,on,rn,an)=>this.handleHeaderComponentStartDragEvent(q,on,rn,an)),this.isStack=!0,this._childElementContainer=document.createElement("section"),this._childElementContainer.classList.add("lm_items"),this.on("resize",this._resizeListener),this._maximisedEnabled&&(this.on("maximised",this._maximisedListener),this.on("minimised",this._minimisedListener)),this.element.appendChild(this._header.element),this.element.appendChild(this._childElementContainer),this.setupHeaderPosition(),this._header.updateClosability()}get childElementContainer(){return this._childElementContainer}get header(){return this._header}get headerShow(){return this._header.show}get headerSide(){return this._header.side}get headerLeftRightSided(){return this._header.leftRightSided}get contentAreaDimensions(){return this._contentAreaDimensions}get initialWantMaximise(){return this._initialWantMaximise}get isMaximised(){return this===this.layoutManager.maximisedStack}get stackParent(){if(!this.parent)throw new Error("Stack should always have a parent");return this.parent}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised===!0)return;this.updateNodeSize();for(let n=0;n<this.contentItems.length;n++)this._childElementContainer.appendChild(this.contentItems[n].element);super.init();const e=this.contentItems,t=e.length;if(t>0){if(this._initialActiveItemIndex<0||this._initialActiveItemIndex>=t)throw new Error(`ActiveItemIndex out of range: ${this._initialActiveItemIndex} id: ${this.id}`);for(let n=0;n<t;n++){const i=e[n];if(i instanceof re)this._header.createTab(i,n),i.hide(),i.container.setBaseLogicalZIndex();else throw new Error(`Stack Content Item is not of type ComponentItem: ${n} id: ${this.id}`)}this.setActiveComponentItem(e[this._initialActiveItemIndex],!1),this._header.updateTabSizes()}this._header.updateClosability(),this.initContentItems()}setActiveContentItem(e){if(U.isComponentItem(e))this.setActiveComponentItem(e,!1);else throw new Error("Stack.setActiveContentItem: item is not a ComponentItem")}setActiveComponentItem(e,t,n=!1){if(this._activeComponentItem!==e){if(this.contentItems.indexOf(e)===-1)throw new Error("componentItem is not a child of this stack");this.layoutManager.beginSizeInvalidation();try{this._activeComponentItem!==void 0&&this._activeComponentItem.hide(),this._activeComponentItem=e,this._header.processActiveComponentChanged(e),e.show()}finally{this.layoutManager.endSizeInvalidation()}this.emit("activeContentItemChanged",e),this.layoutManager.emit("activeContentItemChanged",e),this.emitStateChangedEvent()}(this.focused||t)&&this.layoutManager.setFocusedComponentItem(e,n)}getActiveContentItem(){var e;return(e=this.getActiveComponentItem())!==null&&e!==void 0?e:null}getActiveComponentItem(){return this._activeComponentItem}focusActiveContentItem(){var e;(e=this._activeComponentItem)===null||e===void 0||e.focus()}setFocusedValue(e){this._header.applyFocusedValue(e),super.setFocusedValue(e)}setRowColumnClosable(e){this._header.setRowColumnClosable(e)}newComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.newItem(o,i)}addComponent(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.addItem(o,i)}newItem(e,t){return t=this.addItem(e,t),this.contentItems[t]}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();const n=B.resolve(e),i=this.layoutManager.createAndInitContentItem(n,this);return this.addChild(i,t)}addChild(e,t,n=!1){if(t!==void 0&&t>this.contentItems.length)throw t-=1,new L("SAC99728");if(e instanceof re)return t=super.addChild(e,t),this._childElementContainer.appendChild(e.element),this._header.createTab(e,t),this.setActiveComponentItem(e,n),this._header.updateTabSizes(),this.updateSize(!1),e.container.setBaseLogicalZIndex(),this._header.updateClosability(),this.emitStateChangedEvent(),t;throw new L("SACC88532")}removeChild(e,t){const n=e,i=this.contentItems.indexOf(n),o=this.contentItems.length===1;if(this._activeComponentItem===n&&(n.focused&&n.blur(),!o)){const r=i===0?1:i-1;this.setActiveComponentItem(this.contentItems[r],!1)}this._header.removeTab(n),super.removeChild(n,t),o||this._header.updateClosability(),this.emitStateChangedEvent()}toggleMaximise(){this.isMaximised?this.minimise():this.maximise()}maximise(){if(!this.isMaximised){this.layoutManager.setMaximisedStack(this);const e=this.contentItems,t=e.length;for(let n=0;n<t;n++){const i=e[n];if(i instanceof re)i.enterStackMaximised();else throw new L("SMAXI87773")}this.emitStateChangedEvent()}}minimise(){if(this.isMaximised){this.layoutManager.setMaximisedStack(void 0);const e=this.contentItems,t=e.length;for(let n=0;n<t;n++){const i=e[n];if(i instanceof re)i.exitStackMaximised();else throw new L("SMINI87773")}this.emitStateChangedEvent()}}destroy(){var e;!((e=this._activeComponentItem)===null||e===void 0)&&e.focused&&this._activeComponentItem.blur(),super.destroy(),this.off("resize",this._resizeListener),this._maximisedEnabled&&(this.off("maximised",this._maximisedListener),this.off("minimised",this._minimisedListener)),this._header.destroy()}toConfig(){let e;if(this._activeComponentItem&&(e=this.contentItems.indexOf(this._activeComponentItem),e<0))throw new Error("active component item not found in stack");if(this.contentItems.length>0&&e===void 0)throw new Error("expected non-empty stack to have an active component item");return{type:"stack",content:this.calculateConfigContent(),width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight,id:this.id,isClosable:this.isClosable,maximised:this.isMaximised,header:this.createHeaderConfig(),activeItemIndex:e}}onDrop(e,t){if(this._dropSegment==="header"){if(this.resetHeaderDropZone(),this._dropIndex===void 0)throw new b("SODDI68990");this.addChild(e,this._dropIndex);return}if(this._dropSegment==="body"){this.addChild(e,0,!0);return}const n=this._dropSegment==="top"||this._dropSegment==="bottom",i=this._dropSegment==="left"||this._dropSegment==="right",o=this._dropSegment==="top"||this._dropSegment==="left",r=n&&this.stackParent.isColumn||i&&this.stackParent.isRow,l=n?"height":"width";if(e.isComponent){const a=te.createDefault();a.header=this.createHeaderConfig();const d=this.layoutManager.createAndInitContentItem(a,this);d.addChild(e),e=d}if(e.type===p.row||e.type===p.column){const a=te.createDefault();a.header=this.createHeaderConfig();const d=this.layoutManager.createContentItem(a,this);d.addChild(e),e=d}if(r){const a=this.stackParent.contentItems.indexOf(this);this.stackParent.addChild(e,o?a:a+1,!0),this[l]*=.5,e[l]=this[l],this.stackParent.updateSize(!1)}else{const a=n?p.column:p.row,d=C.createDefault(a),h=this.layoutManager.createContentItem(d,this);this.stackParent.replaceChild(this,h),h.addChild(e,o?0:void 0,!0),h.addChild(this,o?void 0:0,!0),this[l]=50,e[l]=50,h.updateSize(!1)}}highlightDropZone(e,t){for(const n in this._contentAreaDimensions){const i=n,o=this._contentAreaDimensions[i].hoverArea;if(o.x1<e&&o.x2>e&&o.y1<t&&o.y2>t){i==="header"?(this._dropSegment="header",this.highlightHeaderDropZone(this._header.leftRightSided?t:e)):(this.resetHeaderDropZone(),this.highlightBodyDropZone(i));return}}}getArea(){if(this.element.style.display==="none")return null;const e=super.getElementArea(this._header.element),t=super.getElementArea(this._childElementContainer);if(e===null||t===null)throw new k("SGAHC13086");const n=t.x2-t.x1,i=t.y2-t.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this.contentItems.length===0?(this._contentAreaDimensions.body={hoverArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}},super.getElementArea(this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:t.x1,y1:t.y1,x2:t.x1+n*.25,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x1+n*.5,y2:t.y2}},this._contentAreaDimensions.top={hoverArea:{x1:t.x1+n*.25,y1:t.y1,x2:t.x1+n*.75,y2:t.y1+i*.5},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y1+i*.5}},this._contentAreaDimensions.right={hoverArea:{x1:t.x1+n*.75,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1+n*.5,y1:t.y1,x2:t.x2,y2:t.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:t.x1+n*.25,y1:t.y1+i*.5,x2:t.x1+n*.75,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1+i*.5,x2:t.x2,y2:t.y2}},super.getElementArea(this.element))}positionHeader(e){this._header.side!==e&&(this._header.setSide(e),this._headerSideChanged=!0,this.setupHeaderPosition())}updateNodeSize(){if(this.element.style.display!=="none"){const e=J(this.element);if(this._header.show){const t=this._header.leftRightSided?Ge.width:Ge.height;e[t]-=this.layoutManager.layoutConfig.dimensions.headerHeight}this._childElementContainer.style.width=E(e.width),this._childElementContainer.style.height=E(e.height);for(let t=0;t<this.contentItems.length;t++)this.contentItems[t].element.style.width=E(e.width),this.contentItems[t].element.style.height=E(e.height);this.emit("resize"),this.emitStateChangedEvent()}}highlightHeaderDropZone(e){const t=this._header.lastVisibleTabIndex+1,n=this.layoutManager.dropTargetIndicator;if(n===null)throw new k("SHHDZDTI97110");let i;if(t===0){const o=xe(this._header.element),r=ct(this._header.element);i={x1:o.left,x2:o.left+100,y1:o.top+r-20,y2:o.top+r},this._dropIndex=0}else{let o=0,r=!1,l,a,d,h;do{h=this._header.tabs[o].element;const m=xe(h);this._header.leftRightSided?(a=m.top,l=m.left,d=ct(h)):(a=m.left,l=m.top,d=ht(h)),e>=a&&e<a+d?r=!0:o++}while(o<t&&!r);if(r===!1&&e<a)return;const c=a+d/2;e<c?(this._dropIndex=o,h.insertAdjacentElement("beforebegin",this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(o+1,t),h.insertAdjacentElement("afterend",this.layoutManager.tabDropPlaceholder));const u=xe(this.layoutManager.tabDropPlaceholder),f=ht(this.layoutManager.tabDropPlaceholder);if(this._header.leftRightSided){const m=u.top;i={x1:l,x2:l+h.clientHeight,y1:m,y2:m+f}}else{const m=u.left;i={x1:m,x2:m+f,y1:l,y2:l+h.clientHeight}}}n.highlightArea(i)}resetHeaderDropZone(){this.layoutManager.tabDropPlaceholder.remove()}setupHeaderPosition(){ae(this._header.element,this._header.show),this.element.classList.remove("lm_left","lm_right","lm_bottom"),this._header.leftRightSided&&this.element.classList.add("lm_"+this._header.side),this.updateSize(!1)}highlightBodyDropZone(e){if(this._contentAreaDimensions===void 0)throw new b("SHBDZC82265");{const t=this._contentAreaDimensions[e].highlightArea,n=this.layoutManager.dropTargetIndicator;if(n===null)throw new k("SHBDZD96110");n.highlightArea(t),this._dropSegment=e}}handleResize(){this._header.updateTabSizes()}handleMaximised(){this._header.processMaximised()}handleMinimised(){this._header.processMinimised()}handlePopoutEvent(){this.popout()}handleHeaderClickEvent(e){const t=D.headerClickEventName,n=new D.ClickBubblingEvent(t,this,e);this.emit(t,n)}handleHeaderTouchStartEvent(e){const t=D.headerTouchStartEventName,n=new D.TouchStartBubblingEvent(t,this,e);this.emit(t,n)}handleHeaderComponentRemoveEvent(e){this.removeChild(e,!1)}handleHeaderComponentFocusEvent(e){this.setActiveComponentItem(e,!0)}handleHeaderComponentStartDragEvent(e,t,n,i){this.isMaximised===!0&&this.toggleMaximise(),this.layoutManager.startComponentDrag(e,t,n,i,this)}createHeaderConfig(){if(this._headerSideChanged){const e=this._header.show?this._header.side:!1;let t=Y.Header.createCopy(this._headerConfig,e);return t===void 0&&(t={show:e,popout:void 0,maximise:void 0,close:void 0,minimise:void 0,tabDropdown:void 0}),t}else return Y.Header.createCopy(this._headerConfig)}emitStateChangedEvent(){this.emitBaseBubblingEvent("stateChanged")}}(function(s){function e(t){const n=t.createElement("div");return n.classList.add("lm_item"),n.classList.add("lm_stack"),n}s.createElement=e})(K||(K={}));class tn extends D{constructor(e,t,n,i,o,r){super();if(this._dragListener=n,this._layoutManager=i,this._componentItem=o,this._originalParent=r,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",(l,a,d)=>this.onDrag(l,a,d)),this._dragListener.on("dragStop",()=>this.onDrop()),this.createDragProxyElements(e,t),this._componentItem.parent===null)throw new k("DPC10097");if(this._componentItemFocused=this._componentItem.focused,this._componentItemFocused&&this._componentItem.blur(),this._componentItem.parent.removeChild(this._componentItem,!0),this.setDimensions(),document.body.appendChild(this._element),this.determineMinMaxXY(),this._layoutManager.layoutConfig.settings.constrainDragToContainer){const l=this.getXYWithinMinMax(e,t);e=l.x,t=l.y}this._layoutManager.calculateItemAreas(),this.setDropPosition(e,t)}get element(){return this._element}createDragProxyElements(e,t){this._element=document.createElement("div"),this._element.classList.add("lm_dragProxy");const n=document.createElement("div");n.classList.add("lm_header");const i=document.createElement("div");i.classList.add("lm_tabs");const o=document.createElement("div");o.classList.add("lm_tab");const r=document.createElement("span");r.classList.add("lm_title"),o.appendChild(r),i.appendChild(o),n.appendChild(i),this._proxyContainerElement=document.createElement("div"),this._proxyContainerElement.classList.add("lm_content"),this._element.appendChild(n),this._element.appendChild(this._proxyContainerElement),this._originalParent instanceof K&&this._originalParent.headerShow&&(this._sided=this._originalParent.headerLeftRightSided,this._element.classList.add("lm_"+this._originalParent.headerSide),[ie.right,ie.bottom].indexOf(this._originalParent.headerSide)>=0&&this._proxyContainerElement.insertAdjacentElement("afterend",n)),this._element.style.left=E(e),this._element.style.top=E(t),o.setAttribute("title",this._componentItem.title),r.insertAdjacentText("afterbegin",this._componentItem.title),this._proxyContainerElement.appendChild(this._componentItem.element)}determineMinMaxXY(){const e=xe(this._layoutManager.container);this._minX=e.left,this._minY=e.top;const{width:t,height:n}=J(this._layoutManager.container);this._maxX=t+this._minX,this._maxY=n+this._minY}getXYWithinMinMax(e,t){return e<=this._minX?e=Math.ceil(this._minX+1):e>=this._maxX&&(e=Math.floor(this._maxX-1)),t<=this._minY?t=Math.ceil(this._minY+1):t>=this._maxY&&(t=Math.floor(this._maxY-1)),{x:e,y:t}}onDrag(e,t,n){const i=n.pageX,o=n.pageY;this._layoutManager.layoutConfig.settings.constrainDragToContainer?i>this._minX&&i<this._maxX&&o>this._minY&&o<this._maxY&&this.setDropPosition(i,o):this.setDropPosition(i,o),this._componentItem.drag()}setDropPosition(e,t){this._element.style.left=E(e),this._element.style.top=E(t),this._area=this._layoutManager.getArea(e,t),this._area!==null&&(this._lastValidArea=this._area,this._area.contentItem.highlightDropZone(e,t,this._area))}onDrop(){const e=this._layoutManager.dropTargetIndicator;if(e===null)throw new k("DPOD30011");e.hide(),this._componentItem.exitDragMode();let t;this._area!==null?(t=this._componentItem,this._area.contentItem.onDrop(t,this._area)):this._lastValidArea!==null?(t=this._componentItem,this._lastValidArea.contentItem.onDrop(t,this._lastValidArea)):this._originalParent?(t=this._componentItem,this._originalParent.addChild(t)):this._componentItem.destroy(),this._element.remove(),this._layoutManager.emit("itemDropped",this._componentItem),this._componentItemFocused&&t!==void 0&&t.focus()}setDimensions(){const e=this._layoutManager.layoutConfig.dimensions;if(e===void 0)throw new Error("DragProxy.setDimensions: dimensions undefined");let t=e.dragProxyWidth,n=e.dragProxyHeight;if(t===void 0||n===void 0)throw new Error("DragProxy.setDimensions: width and/or height undefined");const i=this._layoutManager.layoutConfig.header.show===!1?0:e.headerHeight;this._element.style.width=E(t),this._element.style.height=E(n),t-=this._sided?i:0,n-=this._sided?0:i,this._proxyContainerElement.style.width=E(t),this._proxyContainerElement.style.height=E(n),this._componentItem.enterDragMode(t,n),this._componentItem.show()}}class On{constructor(e,t,n,i,o,r){this._layoutManager=e,this._element=t,this._extraAllowableChildTargets=n,this._componentTypeOrFtn=i,this._componentState=o,this._title=r,this._dragListener=null,this._dummyGroundContainer=document.createElement("div");const l=ve.createDefault("row");this._dummyGroundContentItem=new se(this._layoutManager,l,this._dummyGroundContainer),this.createDragListener()}destroy(){this.removeDragListener()}createDragListener(){this.removeDragListener(),this._dragListener=new wt(this._element,this._extraAllowableChildTargets),this._dragListener.on("dragStart",(e,t)=>this.onDragStart(e,t)),this._dragListener.on("dragStop",()=>this.onDragStop())}onDragStart(e,t){let n,i,o;if(typeof this._componentTypeOrFtn=="function"){const d=this._componentTypeOrFtn();n=d.type,i=d.state,o=d.title}else n=this._componentTypeOrFtn,i=this._componentState,o=this._title;const r={type:"component",componentType:n,componentState:i,title:o},l=De.resolve(r),a=new re(this._layoutManager,l,this._dummyGroundContentItem);if(this._dummyGroundContentItem.contentItems.push(a),this._dragListener===null)throw new k("DSODSD66746");{const d=new tn(e,t,this._dragListener,this._layoutManager,a,this._dummyGroundContentItem),h=this._layoutManager.transitionIndicator;if(h===null)throw new k("DSODST66746");h.transitionElements(this._element,d.element)}}onDragStop(){this.createDragListener()}removeDragListener(){this._dragListener!==null&&(this._dragListener.destroy(),this._dragListener=null)}}var Ye;(function(s){let e=!1;const t={PopoutCannotBeCreatedWithGroundItemConfig:{id:0,default:"Popout cannot be created with ground ItemConfig"},PleaseRegisterAConstructorFunction:{id:1,default:"Please register a constructor function"},ComponentTypeNotRegisteredAndBindComponentEventHandlerNotAssigned:{id:2,default:"Component type not registered and BindComponentEvent handler not assigned"},ComponentIsAlreadyRegistered:{id:3,default:"Component is already registered"},ComponentIsNotVirtuable:{id:4,default:"Component is not virtuable. Requires rootHtmlElement field/getter"},VirtualComponentDoesNotHaveRootHtmlElement:{id:5,default:'Virtual component does not have getter "rootHtmlElement"'},ItemConfigIsNotTypeComponent:{id:6,default:"ItemConfig is not of type component"}};s.idCount=Object.keys(t).length;const n=Object.values(t);function i(){if(!e)for(let o=0;o<s.idCount;o++){const r=n[o];if(r.id!==o)throw new L("INSI00110",`${o}: ${r.id}`);Je[o]=r.default}e=!0}s.checkInitialise=i})(Ye||(Ye={}));const Je=new Array(Ye.idCount);class Fn{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_dropTargetIndicator");const e=document.createElement("div");e.classList.add("lm_inner"),this._element.appendChild(e),document.body.appendChild(this._element)}destroy(){this._element.remove()}highlightArea(e){this._element.style.left=E(e.x1),this._element.style.top=E(e.y1),this._element.style.width=E(e.x2-e.x1),this._element.style.height=E(e.y2-e.y1),this._element.style.display="block"}hide(){ae(this._element,!1)}}class Vn{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_transition_indicator"),document.body.appendChild(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null}destroy(){this._element.remove()}transitionElements(e,t){}nextAnimationFrame(){}measure(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:e.offsetWidth,height:e.offsetHeight}}}class le extends D{constructor(e){super();this._layoutManager=e,this._childEventListener=t=>this.onEventFromChild(t),globalThis.addEventListener(le.ChildEventName,this._childEventListener,{passive:!0})}emit(e,...t){e==="userBroadcast"?this.emitUserBroadcast(...t):super.emit(e,...t)}emitUserBroadcast(...e){this.handleUserBroadcastEvent("userBroadcast",e)}destroy(){globalThis.removeEventListener(le.ChildEventName,this._childEventListener)}handleUserBroadcastEvent(e,t){this._layoutManager.isSubWindow?this.propagateToParent(e,t):this.propagateToThisAndSubtree(e,t)}onEventFromChild(e){const t=e.detail;this.handleUserBroadcastEvent(t.eventName,t.args)}propagateToParent(e,t){const n={layoutManager:this._layoutManager,eventName:e,args:t},i={bubbles:!0,cancelable:!0,detail:n},o=new CustomEvent(le.ChildEventName,i),r=globalThis.opener;if(r===null)throw new k("EHPTP15778");r.dispatchEvent(o)}propagateToThisAndSubtree(e,t){this.emitUnknown(e,...t);for(let n=0;n<this._layoutManager.openPopouts.length;n++){const i=this._layoutManager.openPopouts[n].getGlInstance();i&&i.eventHub.propagateToThisAndSubtree(e,t)}}}(function(s){s.ChildEventName="gl_child_event"})(le||(le={}));class de extends D{constructor(e){super();this.resizeWithContainerAutomatically=!1,this.resizeDebounceInterval=100,this.resizeDebounceExtendedWhenPossible=!0,this._isInitialised=!1,this._groundItem=void 0,this._openPopouts=[],this._dropTargetIndicator=null,this._transitionIndicator=null,this._itemAreas=[],this._maximisePlaceholder=de.createMaximisePlaceElement(document),this._tabDropPlaceholder=de.createTabDropPlaceholderElement(document),this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._eventHub=new le(this),this._width=null,this._height=null,this._virtualSizedContainers=[],this._virtualSizedContainerAddingBeginCount=0,this._sizeInvalidationBeginCount=0,this._resizeObserver=new ResizeObserver(()=>this.handleContainerResize()),this._windowUnloadListener=()=>this.onUnload(),this._maximisedStackBeforeDestroyedListener=t=>this.cleanupBeforeMaximisedStackDestroyed(t),this.isSubWindow=e.isSubWindow,this._constructorOrSubWindowLayoutConfig=e.constructorOrSubWindowLayoutConfig,Ye.checkInitialise(),Te.checkInitialise(),e.containerElement!==void 0&&(this._containerElement=e.containerElement)}get container(){return this._containerElement}get isInitialised(){return this._isInitialised}get groundItem(){return this._groundItem}get root(){return this._groundItem}get openPopouts(){return this._openPopouts}get dropTargetIndicator(){return this._dropTargetIndicator}get transitionIndicator(){return this._transitionIndicator}get width(){return this._width}get height(){return this._height}get eventHub(){return this._eventHub}get rootItem(){if(this._groundItem===void 0)throw new Error("Cannot access rootItem before init");return this._groundItem.contentItems.length===0?void 0:this._groundItem.contentItems[0]}get focusedComponentItem(){return this._focusedComponentItem}get tabDropPlaceholder(){return this._tabDropPlaceholder}get maximisedStack(){return this._maximisedStack}get deprecatedConstructor(){return!this.isSubWindow&&this._constructorOrSubWindowLayoutConfig!==void 0}destroy(){if(this._isInitialised){if(this.layoutConfig.settings.closePopoutsOnUnload===!0)for(let e=0;e<this._openPopouts.length;e++)this._openPopouts[e].close();this._resizeObserver.disconnect(),this.checkClearResizeTimeout(),globalThis.removeEventListener("unload",this._windowUnloadListener),globalThis.removeEventListener("beforeunload",this._windowUnloadListener),this._groundItem!==void 0&&this._groundItem.destroy(),this._tabDropPlaceholder.remove(),this._dropTargetIndicator!==null&&this._dropTargetIndicator.destroy(),this._transitionIndicator!==null&&this._transitionIndicator.destroy(),this._eventHub.destroy();for(const e of this._dragSources)e.destroy();this._dragSources=[],this._isInitialised=!1}}minifyConfig(e){return w.minifyConfig(e)}unminifyConfig(e){return w.unminifyConfig(e)}init(){this.setContainer(),this._dropTargetIndicator=new Fn,this._transitionIndicator=new Vn,this.updateSizeFromContainer();let e;if(this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new b("LMIU07155");{if(B.isComponent(this._constructorOrSubWindowLayoutConfig.root))e=this._constructorOrSubWindowLayoutConfig.root;else throw new L("LMIC07155");const n=X.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},n),{root:void 0})}}else this._constructorOrSubWindowLayoutConfig===void 0?this.layoutConfig=w.createDefault():this.layoutConfig=X.resolve(this._constructorOrSubWindowLayoutConfig);const t=this.layoutConfig;this._groundItem=new se(this,t.root,this._containerElement),this._groundItem.init(),this.checkLoadedLayoutMaximiseItem(),this.bindEvents(),this._isInitialised=!0,this.adjustColumnsResponsive(),this.emit("initialised"),e!==void 0&&this.loadComponentAsRoot(e)}loadLayout(e){if(this.isInitialised){if(this._groundItem===void 0)throw new b("LMLL11119");this.createSubWindows(),this.layoutConfig=X.resolve(e),this._groundItem.loadRoot(this.layoutConfig.root),this.checkLoadedLayoutMaximiseItem(),this.adjustColumnsResponsive()}else throw new Error("GoldenLayout: Need to call init() if LayoutConfig with defined root passed to constructor")}saveLayout(){if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");if(this._groundItem===void 0)throw new b("LMTC18244");{const e=this._groundItem.calculateConfigContent();let t;e.length!==1?t=void 0:t=e[0],this.reconcilePopoutWindows();const n=[];for(let o=0;o<this._openPopouts.length;o++)n.push(this._openPopouts[o].toConfig());return{root:t,openPopouts:n,settings:w.Settings.createCopy(this.layoutConfig.settings),dimensions:w.Dimensions.createCopy(this.layoutConfig.dimensions),header:w.Header.createCopy(this.layoutConfig.header),resolved:!0}}}clear(){if(this._groundItem===void 0)throw new b("LMCL11129");this._groundItem.clearRoot()}toConfig(){return this.saveLayout()}newComponent(e,t,n){const i=this.newComponentAtLocation(e,t,n);if(i===void 0)throw new L("LMNC65588");return i}newComponentAtLocation(e,t,n,i){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const o=this.addComponentAtLocation(e,t,n,i);if(o===void 0)return;{const r=o.parentItem.contentItems[o.index];if(U.isComponentItem(r))return r;throw new L("LMNC992877533")}}}addComponent(e,t,n){const i=this.addComponentAtLocation(e,t,n);if(i===void 0)throw new L("LMAC99943");return i}addComponentAtLocation(e,t,n,i){const o={type:"component",componentType:e,componentState:t,title:n};return this.addItemAtLocation(o,i)}newItem(e){const t=this.newItemAtLocation(e);if(t===void 0)throw new L("LMNC65588");return t}newItemAtLocation(e,t){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const n=this.addItemAtLocation(e,t);return n===void 0?void 0:n.parentItem.contentItems[n.index]}}addItem(e){const t=this.addItemAtLocation(e);if(t===void 0)throw new L("LMAI99943");return t}addItemAtLocation(e,t){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{t===void 0&&(t=de.defaultLocationSelectors);const n=this.findFirstLocation(t);if(n===void 0)return;{let i=n.parentItem,o;switch(i.type){case p.ground:{o=i.addItem(e,n.index),o>=0?i=this._groundItem.contentItems[0]:o=0;break}case p.row:case p.column:{o=i.addItem(e,n.index);break}case p.stack:if(B.isComponent(e)){o=i.addItem(e,n.index);break}else throw Error(Je[6]);case p.component:throw new L("LMAIALC87444602");default:throw new ee("LMAIALU98881733",i.type)}if(B.isComponent(e)){const r=i.contentItems[o];U.isStack(r)&&(i=r,o=0)}return n.parentItem=i,n.index=o,n}}}loadComponentAsRoot(e){if(this._groundItem===void 0)throw new Error("Cannot add item before init");this._groundItem.loadComponentAsRoot(e)}updateSize(e,t){this.setSize(e,t)}setSize(e,t){if(this._width=e,this._height=t,this._isInitialised===!0){if(this._groundItem===void 0)throw new b("LMUS18881");if(this._groundItem.setSize(this._width,this._height),this._maximisedStack){const{width:n,height:i}=J(this._containerElement);j(this._maximisedStack.element,n),G(this._maximisedStack.element,i),this._maximisedStack.updateSize(!1)}this.adjustColumnsResponsive()}}beginSizeInvalidation(){this._sizeInvalidationBeginCount++}endSizeInvalidation(){--this._sizeInvalidationBeginCount===0&&this.updateSizeFromContainer()}updateSizeFromContainer(){const{width:e,height:t}=J(this._containerElement);this.setSize(e,t)}updateRootSize(e=!1){if(this._groundItem===void 0)throw new b("LMURS28881");this._groundItem.updateSize(e)}createAndInitContentItem(e,t){const n=this.createContentItem(e,t);return n.init(),n}createContentItem(e,t){if(typeof e.type!="string")throw new nt("Missing parameter 'type'",JSON.stringify(e));return C.isComponentItem(e)&&!(t instanceof K)&&!!t&&!(this.isSubWindow===!0&&t instanceof se)&&(e={type:p.stack,content:[e],width:e.width,minWidth:e.minWidth,height:e.height,minHeight:e.minHeight,id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:0,header:void 0}),this.createContentItemFromConfig(e,t)}findFirstComponentItemById(e){if(this._groundItem===void 0)throw new b("LMFFCIBI82446");return this.findFirstContentItemTypeByIdRecursive(p.component,e,this._groundItem)}createPopout(e,t,n,i){return e instanceof U?this.createPopoutFromContentItem(e,t,n,i):this.createPopoutFromItemConfig(e,t,n,i)}createPopoutFromContentItem(e,t,n,i){let o=e.parent,r=e;for(;o!==null&&o.contentItems.length===1&&!o.isGround;)r=o,o=o.parent;if(o===null)throw new k("LMCPFCI00834");{if(i===void 0&&(i=o.contentItems.indexOf(r)),n!==null&&o.addPopInParentId(n),t===void 0){const a=globalThis.screenX||globalThis.screenLeft,d=globalThis.screenY||globalThis.screenTop,h=e.element.offsetLeft,c=e.element.offsetTop,{width:u,height:f}=J(e.element);t={left:a+h,top:d+c,width:u,height:f}}const l=e.toConfig();if(e.remove(),he.isRootItemConfig(l))return this.createPopoutFromItemConfig(l,t,n,i);throw new Error(`${Je[0]}`)}}beginVirtualSizedContainerAdding(){++this._virtualSizedContainerAddingBeginCount===0&&(this._virtualSizedContainers.length=0)}addVirtualSizedContainer(e){this._virtualSizedContainers.push(e)}endVirtualSizedContainerAdding(){if(--this._virtualSizedContainerAddingBeginCount===0){const e=this._virtualSizedContainers.length;if(e>0){this.fireBeforeVirtualRectingEvent(e);for(let t=0;t<e;t++)this._virtualSizedContainers[t].notifyVirtualRectingRequired();this.fireAfterVirtualRectingEvent(),this._virtualSizedContainers.length=0}}}fireBeforeVirtualRectingEvent(e){this.beforeVirtualRectingEvent!==void 0&&this.beforeVirtualRectingEvent(e)}fireAfterVirtualRectingEvent(){this.afterVirtualRectingEvent!==void 0&&this.afterVirtualRectingEvent()}createPopoutFromItemConfig(e,t,n,i){const o=this.toConfig(),r={root:e,openPopouts:[],settings:o.settings,dimensions:o.dimensions,header:o.header,window:t,parentId:n,indexInParent:i,resolved:!0};return this.createPopoutFromPopoutLayoutConfig(r)}createPopoutFromPopoutLayoutConfig(e){var t,n,i,o;const r=e.window,l={left:(t=r.left)!==null&&t!==void 0?t:globalThis.screenX||globalThis.screenLeft+20,top:(n=r.top)!==null&&n!==void 0?n:globalThis.screenY||globalThis.screenTop+20,width:(i=r.width)!==null&&i!==void 0?i:500,height:(o=r.height)!==null&&o!==void 0?o:309},a=new zn(e,l,this);return a.on("initialised",()=>this.emit("windowOpened",a)),a.on("closed",()=>this.reconcilePopoutWindows()),this._openPopouts.push(a),a}newDragSource(e,t,n,i){const o=new On(this,e,[],t,n,i);return this._dragSources.push(o),o}removeDragSource(e){Dn(e,this._dragSources),e.destroy()}startComponentDrag(e,t,n,i,o){new tn(e,t,n,this,i,o)}focusComponent(e,t=!1){e.focus(t)}clearComponentFocus(e=!1){this.setFocusedComponentItem(void 0,e)}setFocusedComponentItem(e,t=!1){if(e!==this._focusedComponentItem){let n;if(e===void 0||(n=e.parentItem),this._focusedComponentItem!==void 0){const i=this._focusedComponentItem;this._focusedComponentItem=void 0,i.setBlurred(t);const o=i.parentItem;n===o?n=void 0:o.setFocusedValue(!1)}e!==void 0&&(this._focusedComponentItem=e,e.setFocused(t),n!==void 0&&n.setFocusedValue(!0))}}createContentItemFromConfig(e,t){switch(e.type){case p.ground:throw new L("LMCCIFC68871");case p.row:return new ce(!1,this,e,t);case p.column:return new ce(!0,this,e,t);case p.stack:return new K(this,e,t);case p.component:return new re(this,e,t);default:throw new ee("CCC913564",e.type,"Invalid Config Item type specified")}}setMaximisedStack(e){e===void 0?this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack():e!==this._maximisedStack&&(this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack(),this.processMaximiseStack(e))}checkMinimiseMaximisedStack(){this._maximisedStack!==void 0&&this._maximisedStack.minimise()}cleanupBeforeMaximisedStackDestroyed(e){this._maximisedStack!==null&&this._maximisedStack===e.target&&(this._maximisedStack.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),this._maximisedStack=void 0)}closeWindow(){globalThis.setTimeout(()=>globalThis.close(),1)}getArea(e,t){let n=null,i=1/0;for(let o=0;o<this._itemAreas.length;o++){const r=this._itemAreas[o];e>r.x1&&e<r.x2&&t>r.y1&&t<r.y2&&i>r.surface&&(i=r.surface,n=r)}return n}calculateItemAreas(){const e=this.getAllContentItems(),t=this._groundItem;if(t===void 0)throw new b("LMCIAR44365");if(e.length===1){const n=t.getElementArea();if(n===null)throw new k("LMCIARA44365");this._itemAreas=[n];return}else{t.contentItems[0].isStack?this._itemAreas=[]:this._itemAreas=t.createSideAreas();for(let n=0;n<e.length;n++){const i=e[n];if(U.isStack(i)){const o=i.getArea();if(o===null)continue;{this._itemAreas.push(o);const r=i.contentAreaDimensions;if(r===void 0)throw new b("LMCIASC45599");{const l=r.header.highlightArea,a=(l.x2-l.x1)*(l.y2-l.y1),d={x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2,contentItem:i,surface:a};this._itemAreas.push(d)}}}}}}checkLoadedLayoutMaximiseItem(){if(this._groundItem===void 0)throw new b("LMCLLMI43432");{const e=this._groundItem.getConfigMaximisedItems();if(e.length>0){let t=e[0];if(U.isComponentItem(t)){const n=t.parent;if(n===null)throw new k("LMXLLMI69999");t=n}if(U.isStack(t))t.maximise();else throw new L("LMCLLMI19993")}}}processMaximiseStack(e){if(this._maximisedStack=e,e.on("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),e.element.classList.add("lm_maximised"),e.element.insertAdjacentElement("afterend",this._maximisePlaceholder),this._groundItem===void 0)throw new b("LMMXI19993");{this._groundItem.element.prepend(e.element);const{width:t,height:n}=J(this._containerElement);j(e.element,t),G(e.element,n),e.updateSize(!0),e.focusActiveContentItem(),this._maximisedStack.emit("maximised"),this.emit("stateChanged")}}processMinimiseMaximisedStack(){if(this._maximisedStack===void 0)throw new L("LMMMS74422");{const e=this._maximisedStack;if(e.parent===null)throw new k("LMMI13668");e.element.classList.remove("lm_maximised"),this._maximisePlaceholder.insertAdjacentElement("afterend",e.element),this._maximisePlaceholder.remove(),this.updateRootSize(!0),this._maximisedStack=void 0,e.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),e.emit("minimised"),this.emit("stateChanged")}}reconcilePopoutWindows(){const e=[];for(let t=0;t<this._openPopouts.length;t++)this._openPopouts[t].getWindow().closed===!1?e.push(this._openPopouts[t]):this.emit("windowClosed",this._openPopouts[t]);this._openPopouts.length!==e.length&&(this._openPopouts=e,this.emit("stateChanged"))}getAllContentItems(){if(this._groundItem===void 0)throw new b("LMGACI13130");return this._groundItem.getAllContentItems()}bindEvents(){this._resizeObserver.observe(this._containerElement),globalThis.addEventListener("unload",this._windowUnloadListener,{passive:!0}),globalThis.addEventListener("beforeunload",this._windowUnloadListener,{passive:!0})}createSubWindows(){for(let e=0;e<this.layoutConfig.openPopouts.length;e++){const t=this.layoutConfig.openPopouts[e];this.createPopoutFromPopoutLayoutConfig(t)}}handleContainerResize(){this.resizeWithContainerAutomatically&&this.processResizeWithDebounce()}processResizeWithDebounce(){this.resizeDebounceExtendedWhenPossible&&this.checkClearResizeTimeout(),this._resizeTimeoutId===void 0&&(this._resizeTimeoutId=setTimeout(()=>{this._resizeTimeoutId=void 0,this.beginSizeInvalidation(),this.endSizeInvalidation()},this.resizeDebounceInterval))}checkClearResizeTimeout(){this._resizeTimeoutId!==void 0&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=void 0)}setContainer(){var e;const t=document.body,n=(e=this._containerElement)!==null&&e!==void 0?e:t;if(n===t){this.resizeWithContainerAutomatically=!0;const i=document.documentElement;i.style.height="100%",i.style.margin="0",i.style.padding="0",i.style.overflow="clip",t.style.height="100%",t.style.margin="0",t.style.padding="0",t.style.overflow="clip"}this._containerElement=n}onUnload(){this.destroy()}adjustColumnsResponsive(){if(this._groundItem===void 0)throw new b("LMACR20883");if(this._firstLoad=!1,this.useResponsiveLayout()&&!this._updatingColumnsResponsive&&this._groundItem.contentItems.length>0&&this._groundItem.contentItems[0].isRow){if(this._groundItem===void 0||this._width===null)throw new b("LMACR77412");{const e=this._groundItem.contentItems[0].contentItems.length;if(e<=1)return;{const t=this.layoutConfig.dimensions.minItemWidth;if(e*t<=this._width)return;{this._updatingColumnsResponsive=!0;const i=Math.max(Math.floor(this._width/t),1),o=e-i,r=this._groundItem.contentItems[0],l=this.getAllStacks();if(l.length===0)throw new L("LMACRS77413");{const a=l[0];for(let d=0;d<o;d++){const h=r.contentItems[r.contentItems.length-1];this.addChildContentItemsToContainer(a,h)}this._updatingColumnsResponsive=!1}}}}}}useResponsiveLayout(){const e=this.layoutConfig.settings,t=e.responsiveMode===Ae.always,n=e.responsiveMode===Ae.onload&&this._firstLoad;return t||n}addChildContentItemsToContainer(e,t){const n=t.contentItems;if(t instanceof K)for(let i=0;i<n.length;i++){const o=n[i];t.removeChild(o,!0),e.addChild(o)}else for(let i=0;i<n.length;i++){const o=n[i];this.addChildContentItemsToContainer(e,o)}}getAllStacks(){if(this._groundItem===void 0)throw new b("LMFASC52778");{const e=[];return this.findAllStacksRecursive(e,this._groundItem),e}}findFirstContentItemType(e){if(this._groundItem===void 0)throw new b("LMFFCIT82446");return this.findFirstContentItemTypeRecursive(e,this._groundItem)}findFirstContentItemTypeRecursive(e,t){const n=t.contentItems,i=n.length;if(i!==0){for(let o=0;o<i;o++){const r=n[o];if(r.type===e)return r}for(let o=0;o<i;o++){const r=n[o],l=this.findFirstContentItemTypeRecursive(e,r);if(l!==void 0)return l}return}}findFirstContentItemTypeByIdRecursive(e,t,n){const i=n.contentItems,o=i.length;if(o!==0){for(let r=0;r<o;r++){const l=i[r];if(l.type===e&&l.id===t)return l}for(let r=0;r<o;r++){const l=i[r],a=this.findFirstContentItemTypeByIdRecursive(e,t,l);if(a!==void 0)return a}return}}findAllStacksRecursive(e,t){const n=t.contentItems;for(let i=0;i<n.length;i++){const o=n[i];o instanceof K?e.push(o):o.isComponent||this.findAllStacksRecursive(e,o)}}findFirstLocation(e){const t=e.length;for(let n=0;n<t;n++){const i=e[n],o=this.findLocation(i);if(o!==void 0)return o}}findLocation(e){const t=e.index;switch(e.typeId){case 0:{if(this._focusedComponentItem===void 0)return;{const n=this._focusedComponentItem.parentItem,i=n.contentItems,o=i.length;if(t===void 0)return{parentItem:n,index:o};{const l=i.indexOf(this._focusedComponentItem)+t;return l<0||l>o?void 0:{parentItem:n,index:l}}}}case 1:{if(this._focusedComponentItem===void 0)return;{const n=this._focusedComponentItem.parentItem;return this.tryCreateLocationFromParentItem(n,t)}}case 2:{const n=this.findFirstContentItemType(p.stack);return n===void 0?void 0:this.tryCreateLocationFromParentItem(n,t)}case 3:{let n=this.findFirstContentItemType(p.row);return n!==void 0?this.tryCreateLocationFromParentItem(n,t):(n=this.findFirstContentItemType(p.column),n!==void 0?this.tryCreateLocationFromParentItem(n,t):void 0)}case 4:{const n=this.findFirstContentItemType(p.row);return n===void 0?void 0:this.tryCreateLocationFromParentItem(n,t)}case 5:{const n=this.findFirstContentItemType(p.column);return n===void 0?void 0:this.tryCreateLocationFromParentItem(n,t)}case 6:{if(this._groundItem===void 0)throw new b("LMFLRIF18244");return this.rootItem!==void 0?void 0:t===void 0||t===0?{parentItem:this._groundItem,index:0}:void 0}case 7:{if(this._groundItem===void 0)throw new b("LMFLF18244");{const n=this._groundItem.contentItems;if(n.length===0)return t===void 0||t===0?{parentItem:this._groundItem,index:0}:void 0;{const i=n[0];return this.tryCreateLocationFromParentItem(i,t)}}}}}tryCreateLocationFromParentItem(e,t){const i=e.contentItems.length;return t===void 0?{parentItem:e,index:i}:t<0||t>i?void 0:{parentItem:e,index:t}}}(function(s){function e(n){const i=n.createElement("div");return i.classList.add("lm_maximise_place"),i}s.createMaximisePlaceElement=e;function t(n){const i=n.createElement("div");return i.classList.add("lm_drop_tab_placeholder"),i}s.createTabDropPlaceholderElement=t,s.defaultLocationSelectors=[{typeId:1,index:void 0},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}],s.afterFocusedItemIfPossibleLocationSelectors=[{typeId:0,index:1},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}]})(de||(de={}));class Ke extends de{constructor(e,t,n,i){super(Ke.createLayoutManagerConstructorParameters(e,t));if(this._bindComponentEventHanlderPassedInConstructor=!1,this._creationTimeoutPassed=!1,t!==void 0&&typeof t=="function"&&(this.bindComponentEvent=t,this._bindComponentEventHanlderPassedInConstructor=!0,n!==void 0&&(this.unbindComponentEvent=n)),!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new b("VLC98823");{const o=X.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},o),{root:void 0})}}i!==!0&&(this.deprecatedConstructor||this.init())}destroy(){this.bindComponentEvent=void 0,this.unbindComponentEvent=void 0,super.destroy()}init(){if(!this._bindComponentEventHanlderPassedInConstructor&&(document.readyState==="loading"||document.body===null)){document.addEventListener("DOMContentLoaded",()=>this.init(),{passive:!0});return}if(!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow===!0&&!this._creationTimeoutPassed){setTimeout(()=>this.init(),7),this._creationTimeoutPassed=!0;return}this.isSubWindow===!0&&(this._bindComponentEventHanlderPassedInConstructor||this.clearHtmlAndAdjustStylesForSubWindow(),window.__glInstance=this),super.init()}clearHtmlAndAdjustStylesForSubWindow(){const e=document.head,t=new Array(4);t[0]=document.querySelectorAll("body link"),t[1]=document.querySelectorAll("body style"),t[2]=document.querySelectorAll("template"),t[3]=document.querySelectorAll(".gl_keep");for(let i=0;i<t.length;i++){const o=t[i];for(let r=0;r<o.length;r++){const l=o[r];e.appendChild(l)}}const n=document.body;n.innerHTML="",n.style.visibility="visible",this.checkAddDefaultPopinButton(),document.body.offsetHeight}checkAddDefaultPopinButton(){if(this.layoutConfig.settings.popInOnClose)return!1;{const e=document.createElement("div");e.classList.add("lm_popin"),e.setAttribute("title",this.layoutConfig.header.dock);const t=document.createElement("div");t.classList.add("lm_icon");const n=document.createElement("div");return n.classList.add("lm_bg"),e.appendChild(t),e.appendChild(n),e.addEventListener("click",()=>this.emit("popIn")),document.body.appendChild(e),!0}}bindComponent(e,t){if(this.bindComponentEvent!==void 0)return this.bindComponentEvent(e,t);if(this.getComponentEvent!==void 0)return{virtual:!1,component:this.getComponentEvent(e,t)};{const i=`${Je[2]}: ${JSON.stringify(t)}`;throw new Tn(i)}}unbindComponent(e,t,n){if(this.unbindComponentEvent!==void 0)this.unbindComponentEvent(e);else if(!t&&this.releaseComponentEvent!==void 0){if(n===void 0)throw new b("VCUCRCU333998");this.releaseComponentEvent(e,n)}}}(function(s){let e=!1;function t(n,i){const o=e?null:new URL(document.location.href).searchParams.get("gl-window");e=!0;const r=o!==null;let l,a;if(o!==null){const d=localStorage.getItem(o);if(d===null)throw new Error("Null gl-window Config");localStorage.removeItem(o);const h=JSON.parse(d),c=w.unminifyConfig(h);a=X.fromResolved(c),n instanceof HTMLElement&&(l=n)}else n===void 0?a=void 0:n instanceof HTMLElement?(a=void 0,l=n):a=n,l===void 0&&i instanceof HTMLElement&&(l=i);return{constructorOrSubWindowLayoutConfig:a,isSubWindow:r,containerElement:l}}s.createLayoutManagerConstructorParameters=t})(Ke||(Ke={}));function Un(s){let e,t,n,i,o,r,l,a,d;return{c(){e=H("svg"),t=H("g"),n=H("path"),i=H("path"),o=H("path"),r=H("path"),l=H("path"),a=H("path"),d=H("path"),this.h()},l(h){e=R(h,"svg",{class:!0,viewBox:!0,xmlns:!0,style:!0});var c=P(e);t=R(c,"g",{transform:!0});var u=P(t);n=R(u,"path",{d:!0,class:!0}),P(n).forEach(M),i=R(u,"path",{d:!0,class:!0}),P(i).forEach(M),o=R(u,"path",{d:!0,class:!0}),P(o).forEach(M),r=R(u,"path",{d:!0,class:!0}),P(r).forEach(M),l=R(u,"path",{d:!0,class:!0}),P(l).forEach(M),a=R(u,"path",{d:!0,class:!0}),P(a).forEach(M),d=R(u,"path",{d:!0,class:!0}),P(d).forEach(M),u.forEach(M),c.forEach(M),this.h()},h(){_(n,"d","m 4,69 3,-3 h 6 l 3,3 c 0,0 -1,1 -3,1 H 7 C 5,70 4,69 4,69 Z"),_(n,"class","svelte-191gwvk"),F(n,"active",s[0][6]),_(i,"d","m 17,55 -3,2 v 8 l 3,3 c 0,0 1,-1 1,-3 v -7 c 0,-2 -1,-3 -1,-3 z"),_(i,"class","svelte-191gwvk"),F(i,"active",s[0][5]),_(o,"d","m 3,55 3,2 v 8 L 3,68 C 3,68 2,67 2,65 v -7 c 0,-2 1,-3 1,-3 z"),_(o,"class","svelte-191gwvk"),F(o,"active",s[0][4]),_(r,"d","m 7,52 c 2,0 4,0 6,0 1,0.6 2,1.3 3,2 -1,0.6 -2,1.3 -3,2 -2,0 -4,0 -6,0 C 6,55.3 5,54.6 4,54 5,53.3 6,52.6 7,52 Z"),_(r,"class","svelte-191gwvk"),F(r,"active",s[0][3]),_(l,"d","m 17,40 -3,3 v 8 l 3,2 c 0,0 1,-1 1,-3 v -7 c 0,-2 -1,-3 -1,-3 z"),_(l,"class","svelte-191gwvk"),F(l,"active",s[0][2]),_(a,"d","m 3,40 3,3 v 8 L 3,53 C 3,53 2,52 2,50 v -7 c 0,-2 1,-3 1,-3 z"),_(a,"class","svelte-191gwvk"),F(a,"active",s[0][1]),_(d,"d","m 4,39 3,3 h 6 l 3,-3 c 0,0 -1,-1 -3,-1 H 7 c -2,0 -3,1 -3,1 z"),_(d,"class","svelte-191gwvk"),F(d,"active",s[0][0]),_(t,"transform","translate(-2,-38)"),_(e,"class","digital-digit svelte-191gwvk"),_(e,"viewBox","0 0 16 32"),_(e,"xmlns","http://www.w3.org/2000/svg"),Cn(e,"display","block")},m(h,c){$(h,e,c),Z(e,t),Z(t,n),Z(t,i),Z(t,o),Z(t,r),Z(t,l),Z(t,a),Z(t,d)},p(h,[c]){c&1&&F(n,"active",h[0][6]),c&1&&F(i,"active",h[0][5]),c&1&&F(o,"active",h[0][4]),c&1&&F(r,"active",h[0][3]),c&1&&F(l,"active",h[0][2]),c&1&&F(a,"active",h[0][1]),c&1&&F(d,"active",h[0][0])},i:N,o:N,d(h){h&&M(e)}}}function Nn(s,e,t){let{digit:n}=e,i=[[1,1,1,0,1,1,1],[0,0,1,0,0,1,0],[1,0,1,1,1,0,1],[1,0,1,1,0,1,1],[0,1,1,1,0,1,0],[1,1,0,1,0,1,1],[1,1,0,1,1,1,1],[1,0,1,0,0,1,0],[1,1,1,1,1,1,1],[1,1,1,1,0,1,1],[0,0,0,0,0,0,0]],o;return s.$$set=r=>{"digit"in r&&t(1,n=r.digit)},s.$$.update=()=>{s.$$.dirty&2&&(n=="!"?t(0,o=i[10]):t(0,o=i[parseInt(n)]))},[o,n]}class jn extends Ct{constructor(e){super();vt(this,e,Nn,Un,et,{digit:1})}}function Mt(s,e,t){const n=s.slice();return n[2]=e[t],n}function Lt(s){let e,t,n=[...s[0]],i=[];for(let r=0;r<n.length;r+=1)i[r]=At(Mt(s,n,r));const o=r=>_e(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Ve()},l(r){for(let l=0;l<i.length;l+=1)i[l].l(r);e=Ve()},m(r,l){for(let a=0;a<i.length;a+=1)i[a].m(r,l);$(r,e,l),t=!0},p(r,l){if(l&1){n=[...r[0]];let a;for(a=0;a<n.length;a+=1){const d=Mt(r,n,a);i[a]?(i[a].p(d,l),Q(i[a],1)):(i[a]=At(d),i[a].c(),Q(i[a],1),i[a].m(e.parentNode,e))}for(qt(),a=n.length;a<i.length;a+=1)o(a);Yt()}},i(r){if(!t){for(let l=0;l<n.length;l+=1)Q(i[l]);t=!0}},o(r){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)_e(i[l]);t=!1},d(r){_n(i,r),r&&M(e)}}}function At(s){let e,t,n;return t=new jn({props:{digit:s[2]}}),{c(){e=Pe("span"),xn(t.$$.fragment),this.h()},l(i){e=Ut(i,"SPAN",{class:!0});var o=P(e);Mn(t.$$.fragment,o),o.forEach(M),this.h()},h(){_(e,"class","svelte-k2mgta")},m(i,o){$(i,e,o),Kt(t,e,null),n=!0},p(i,o){const r={};o&1&&(r.digit=i[2]),t.$set(r)},i(i){n||(Q(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){i&&M(e),Qt(t)}}}function Gn(s){let e,t,n=s[0]!==void 0&&Lt(s);return{c(){e=Pe("div"),n&&n.c(),this.h()},l(i){e=Ut(i,"DIV",{class:!0});var o=P(e);n&&n.l(o),o.forEach(M),this.h()},h(){_(e,"class","digital-number svelte-k2mgta")},m(i,o){$(i,e,o),n&&n.m(e,null),t=!0},p(i,[o]){i[0]!==void 0?n?(n.p(i,o),o&1&&Q(n,1)):(n=Lt(i),n.c(),Q(n,1),n.m(e,null)):n&&(qt(),_e(n,1,1,()=>{n=null}),Yt())},i(i){t||(Q(n),t=!0)},o(i){_e(n),t=!1},d(i){i&&M(e),n&&n.d()}}}function Zn(s,e,t){let{value:n,min:i}=e;return s.$$set=o=>{"value"in o&&t(0,n=o.value),"min"in o&&t(1,i=o.min)},s.$$.update=()=>{s.$$.dirty&3&&n!==void 0&&(t(0,n=String(n)),i&&t(0,n=n.padStart(i,"!")))},[n,i]}class Ii extends Ct{constructor(e){super();vt(this,e,Zn,Gn,et,{value:0,min:1})}}/*!
 * Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var Ei={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M88 48C101.3 48 112 58.75 112 72V120C112 133.3 101.3 144 88 144H40C26.75 144 16 133.3 16 120V72C16 58.75 26.75 48 40 48H88zM480 64C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H192C174.3 128 160 113.7 160 96C160 78.33 174.3 64 192 64H480zM480 224C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H192C174.3 288 160 273.7 160 256C160 238.3 174.3 224 192 224H480zM480 384C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H192C174.3 448 160 433.7 160 416C160 398.3 174.3 384 192 384H480zM16 232C16 218.7 26.75 208 40 208H88C101.3 208 112 218.7 112 232V280C112 293.3 101.3 304 88 304H40C26.75 304 16 293.3 16 280V232zM88 368C101.3 368 112 378.7 112 392V440C112 453.3 101.3 464 88 464H40C26.75 464 16 453.3 16 440V392C16 378.7 26.75 368 40 368H88z"]},Si={prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M272 0C289.7 0 304 14.33 304 32C304 49.67 289.7 64 272 64H256V98.45C293.5 104.2 327.7 120 355.7 143L377.4 121.4C389.9 108.9 410.1 108.9 422.6 121.4C435.1 133.9 435.1 154.1 422.6 166.6L398.5 190.8C419.7 223.3 432 262.2 432 304C432 418.9 338.9 512 224 512C109.1 512 16 418.9 16 304C16 200 92.32 113.8 192 98.45V64H176C158.3 64 144 49.67 144 32C144 14.33 158.3 0 176 0L272 0zM248 192C248 178.7 237.3 168 224 168C210.7 168 200 178.7 200 192V320C200 333.3 210.7 344 224 344C237.3 344 248 333.3 248 320V192z"]},xi={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M507.6 122.8c-2.904-12.09-18.25-16.13-27.04-7.338l-76.55 76.56l-83.1-.0002l0-83.1l76.55-76.56c8.791-8.789 4.75-24.14-7.336-27.04c-23.69-5.693-49.34-6.111-75.92 .2484c-61.45 14.7-109.4 66.9-119.2 129.3C189.8 160.8 192.3 186.7 200.1 210.1l-178.1 178.1c-28.12 28.12-28.12 73.69 0 101.8C35.16 504.1 53.56 512 71.1 512s36.84-7.031 50.91-21.09l178.1-178.1c23.46 7.736 49.31 10.24 76.17 6.004c62.41-9.84 114.6-57.8 129.3-119.2C513.7 172.1 513.3 146.5 507.6 122.8zM80 456c-13.25 0-24-10.75-24-24c0-13.26 10.75-24 24-24s24 10.74 24 24C104 445.3 93.25 456 80 456z"]};function Xn(s){const e=s-1;return e*e*e+1}function Mi(s,{delay:e=0,duration:t=400,easing:n=Xn,x:i=0,y:o=0,opacity:r=0}={}){const l=getComputedStyle(s),a=+l.opacity,d=l.transform==="none"?"":l.transform,h=a*(1-r);return{delay:e,duration:t,easing:n,css:(c,u)=>`
			transform: ${d} translate(${(1-c)*i}px, ${(1-c)*o}px);
			opacity: ${a-h*u}`}}const Be=parseFloat;function Qe(s,e=";"){let t;if(Array.isArray(s))t=s.filter(n=>n);else{t=[];for(const n in s)s[n]&&t.push(`${n}:${s[n]}`)}return t.join(e)}function qn(s,e,t,n){let i,o;const r="1em";let l,a,d,h="-.125em";const c="visible";return n&&(d="center",o="1.25em"),t&&(i=t),e&&(e=="lg"?(a="1.33333em",l=".75em",h="-.225em"):e=="xs"?a=".75em":e=="sm"?a=".875em":a=e.replace("x","em")),Qe([Qe({float:i,width:o,height:r,"line-height":l,"font-size":a,"text-align":d,"vertical-align":h,"transform-origin":"center",overflow:c}),s])}function Yn(s,e,t,n,i,o=1,r="",l=""){let a=1,d=1;return i&&(i=="horizontal"?a=-1:i=="vertical"?d=-1:a=d=-1),Qe([`translate(${Be(e)*o}${r},${Be(t)*o}${r})`,`scale(${a*Be(s)},${d*Be(s)})`,n&&`rotate(${n}${l})`]," ")}function Tt(s){let e,t,n,i,o,r,l;function a(c,u){return typeof c[7][4]=="string"?Kn:Jn}let d=a(s),h=d(s);return{c(){e=H("svg"),t=H("g"),n=H("g"),h.c(),this.h()},l(c){e=R(c,"svg",{id:!0,class:!0,style:!0,viewBox:!0,"aria-hidden":!0,role:!0,xmlns:!0});var u=P(e);t=R(u,"g",{transform:!0,"transform-origin":!0});var f=P(t);n=R(f,"g",{transform:!0});var m=P(n);h.l(m),m.forEach(M),f.forEach(M),u.forEach(M),this.h()},h(){_(n,"transform",s[10]),_(t,"transform",i=`translate(${s[7][0]/2} ${s[7][1]/2})`),_(t,"transform-origin",o=`${s[7][0]/4} 0`),_(e,"id",s[0]),_(e,"class",r=It(s[8])+" svelte-1cj2gr0"),_(e,"style",s[9]),_(e,"viewBox",l=`0 0 ${s[7][0]} ${s[7][1]}`),_(e,"aria-hidden","true"),_(e,"role","img"),_(e,"xmlns","http://www.w3.org/2000/svg")},m(c,u){$(c,e,u),Z(e,t),Z(t,n),h.m(n,null)},p(c,u){d===(d=a(c))&&h?h.p(c,u):(h.d(1),h=d(c),h&&(h.c(),h.m(n,null))),u&1024&&_(n,"transform",c[10]),u&128&&i!==(i=`translate(${c[7][0]/2} ${c[7][1]/2})`)&&_(t,"transform",i),u&128&&o!==(o=`${c[7][0]/4} 0`)&&_(t,"transform-origin",o),u&1&&_(e,"id",c[0]),u&256&&r!==(r=It(c[8])+" svelte-1cj2gr0")&&_(e,"class",r),u&512&&_(e,"style",c[9]),u&128&&l!==(l=`0 0 ${c[7][0]} ${c[7][1]}`)&&_(e,"viewBox",l)},d(c){c&&M(e),h.d()}}}function Jn(s){let e,t,n,i,o,r,l,a,d,h;return{c(){e=H("path"),r=H("path"),this.h()},l(c){e=R(c,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),P(e).forEach(M),r=R(c,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),P(r).forEach(M),this.h()},h(){_(e,"d",t=s[7][4][0]),_(e,"fill",n=s[3]||s[1]||"currentColor"),_(e,"fill-opacity",i=s[6]!=!1?s[4]:s[5]),_(e,"transform",o=`translate(${s[7][0]/-2} ${s[7][1]/-2})`),_(r,"d",l=s[7][4][1]),_(r,"fill",a=s[2]||s[1]||"currentColor"),_(r,"fill-opacity",d=s[6]!=!1?s[5]:s[4]),_(r,"transform",h=`translate(${s[7][0]/-2} ${s[7][1]/-2})`)},m(c,u){$(c,e,u),$(c,r,u)},p(c,u){u&128&&t!==(t=c[7][4][0])&&_(e,"d",t),u&10&&n!==(n=c[3]||c[1]||"currentColor")&&_(e,"fill",n),u&112&&i!==(i=c[6]!=!1?c[4]:c[5])&&_(e,"fill-opacity",i),u&128&&o!==(o=`translate(${c[7][0]/-2} ${c[7][1]/-2})`)&&_(e,"transform",o),u&128&&l!==(l=c[7][4][1])&&_(r,"d",l),u&6&&a!==(a=c[2]||c[1]||"currentColor")&&_(r,"fill",a),u&112&&d!==(d=c[6]!=!1?c[5]:c[4])&&_(r,"fill-opacity",d),u&128&&h!==(h=`translate(${c[7][0]/-2} ${c[7][1]/-2})`)&&_(r,"transform",h)},d(c){c&&M(e),c&&M(r)}}}function Kn(s){let e,t,n,i;return{c(){e=H("path"),this.h()},l(o){e=R(o,"path",{d:!0,fill:!0,transform:!0}),P(e).forEach(M),this.h()},h(){_(e,"d",t=s[7][4]),_(e,"fill",n=s[1]||s[2]||"currentColor"),_(e,"transform",i=`translate(${s[7][0]/-2} ${s[7][1]/-2})`)},m(o,r){$(o,e,r)},p(o,r){r&128&&t!==(t=o[7][4])&&_(e,"d",t),r&6&&n!==(n=o[1]||o[2]||"currentColor")&&_(e,"fill",n),r&128&&i!==(i=`translate(${o[7][0]/-2} ${o[7][1]/-2})`)&&_(e,"transform",i)},d(o){o&&M(e)}}}function Qn(s){let e,t=s[7][4]&&Tt(s);return{c(){t&&t.c(),e=Ve()},l(n){t&&t.l(n),e=Ve()},m(n,i){t&&t.m(n,i),$(n,e,i)},p(n,[i]){n[7][4]?t?t.p(n,i):(t=Tt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:N,o:N,d(n){t&&t.d(n),n&&M(e)}}}function $n(s,e,t){let{class:n=""}=e,{id:i=""}=e,{style:o=""}=e,{icon:r}=e,{size:l=""}=e,{color:a=""}=e,{fw:d=!1}=e,{pull:h=""}=e,{scale:c=1}=e,{translateX:u=0}=e,{translateY:f=0}=e,{rotate:m=""}=e,{flip:g=!1}=e,{spin:v=!1}=e,{pulse:I=!1}=e,{primaryColor:A=""}=e,{secondaryColor:z=""}=e,{primaryOpacity:V=1}=e,{secondaryOpacity:O=.4}=e,{swapOpacity:S=!1}=e,T,W,x,ue;return s.$$set=y=>{"class"in y&&t(11,n=y.class),"id"in y&&t(0,i=y.id),"style"in y&&t(12,o=y.style),"icon"in y&&t(13,r=y.icon),"size"in y&&t(14,l=y.size),"color"in y&&t(1,a=y.color),"fw"in y&&t(15,d=y.fw),"pull"in y&&t(16,h=y.pull),"scale"in y&&t(17,c=y.scale),"translateX"in y&&t(18,u=y.translateX),"translateY"in y&&t(19,f=y.translateY),"rotate"in y&&t(20,m=y.rotate),"flip"in y&&t(21,g=y.flip),"spin"in y&&t(22,v=y.spin),"pulse"in y&&t(23,I=y.pulse),"primaryColor"in y&&t(2,A=y.primaryColor),"secondaryColor"in y&&t(3,z=y.secondaryColor),"primaryOpacity"in y&&t(4,V=y.primaryOpacity),"secondaryOpacity"in y&&t(5,O=y.secondaryOpacity),"swapOpacity"in y&&t(6,S=y.swapOpacity)},s.$$.update=()=>{s.$$.dirty&8192&&t(7,T=r&&r.icon||[0,0,"",[],""]),s.$$.dirty&12584960&&t(8,W=Qe([n,"svelte-fa",v&&"spin",I&&"pulse"]," ")),s.$$.dirty&118784&&t(9,x=qn(o,l,h,d)),s.$$.dirty&4063232&&t(10,ue=Yn(c,u,f,m,g,512))},[i,a,A,z,V,O,S,T,W,x,ue,n,o,r,l,d,h,c,u,f,m,g,v,I]}class Li extends Ct{constructor(e){super();vt(this,e,$n,Qn,et,{class:11,id:0,style:12,icon:13,size:14,color:1,fw:15,pull:16,scale:17,translateX:18,translateY:19,rotate:20,flip:21,spin:22,pulse:23,primaryColor:2,secondaryColor:3,primaryOpacity:4,secondaryOpacity:5,swapOpacity:6})}}export{H as $,yi as A,Qt as B,ln as C,bi as D,ui as E,ei as F,ni as G,ii as H,ti as I,Z as J,N as K,Le as L,li as M,Et as N,si as O,vi as P,ye as Q,_i as R,Ct as S,gi as T,ge as U,Ke as V,Ii as W,St as X,wi as Y,mi as Z,Li as _,P as a,R as a0,Si as a1,Ei as a2,xi as a3,fi as a4,pi as a5,_n as a6,Mi as a7,_ as b,Ut as c,M as d,Pe as e,Cn as f,$ as g,vn as h,vt as i,ai as j,oi as k,Ve as l,ri as m,qt as n,_e as o,Yt as p,Q as q,ci as r,et as s,_t as t,hi as u,di as v,xn as w,Mn as x,Kt as y,Ci as z};
